(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{280:function(e,t,c){},527:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(0),r=c(35),s=c.n(r),o=(c(280),c(13)),i=c.n(o),l=c(20),u=c(47),j=c(25),b=(c(281),c(15)),d=c(10),h=c(118);h.a.initializeApp({apiKey:"AIzaSyAk-uMZHX4EXzzZtivo9AYtlrrb7ECf8DY",authDomain:"ecommerce-39587.firebaseapp.com",projectId:"ecommerce-39587",storageBucket:"ecommerce-39587.appspot.com",messagingSenderId:"36984775351",appId:"1:36984775351:web:404288a105f1150dd6a332"});var O=h.a.auth(),p=new h.a.auth.GoogleAuthProvider,m=c(127),x=c(546),f=c(547),g=c(17),v=c(19),N=c(33),y=c.n(N),S=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat("http://localhost:8000/api","/create-or-update-user"),{},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat("http://localhost:8000/api","/current-user"),{},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat("http://localhost:8000/api","/current-admin"),{},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e){var t=e.history,c=Object(a.useState)("n.dissanayaka424@gmail.com"),r=Object(d.a)(c,2),s=r[0],o=r[1],u=Object(a.useState)("123456"),h=Object(d.a)(u,2),N=h[0],y=h[1],w=Object(a.useState)(!1),k=Object(d.a)(w,2),C=k[0],E=k[1],_=Object(g.c)((function(e){return Object(b.a)({},e)})).user;Object(a.useEffect)((function(){t.location.state||_&&_.token&&t.push("/")}),[_,t]);var R=Object(g.b)(),A=function(e){var c=t.location.state;c?t.push(c.from):"admin"===e.data.role?t.push("/admin/dashboard"):"seller"===e.data.role?t.push("/seller/dashboard"):t.push("/user/history")},I=function(){var e=Object(l.a)(i.a.mark((function e(t){var c,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),E(!0),e.prev=2,e.next=5,O.signInWithEmailAndPassword(s,N);case 5:return c=e.sent,n=c.user,e.next=9,n.getIdTokenResult();case 9:a=e.sent,S(a.token).then((function(e){R({type:"LOGGED_IN_USER",payload:{name:e.data.name,email:e.data.email,token:a.token,role:e.data.role,_id:e.data._id}}),A(e)})).catch((function(e){return console.log(e)})),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0),j.b.error(e.t0.message),E(!1);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.signInWithPopup(p).then(function(){var e=Object(l.a)(i.a.mark((function e(t){var c,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.user,e.next=3,c.getIdTokenResult();case 3:n=e.sent,S(n.token).then((function(e){R({type:"LOGGED_IN_USER",payload:{name:e.data.name,email:e.data.email,token:n.token,role:e.data.role,_id:e.data._id}}),A(e)})).catch((function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),j.b.error(e.message)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"container p-5",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-md-6 offset-md-3",children:[C?Object(n.jsx)("h4",{className:"text-danger",children:"Loading..."}):Object(n.jsx)("h4",{children:"Login"}),Object(n.jsxs)("form",{onSubmit:I,children:[Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"email",className:"form-control",value:s,onChange:function(e){return o(e.target.value)},placeholder:"Your email",autoFocus:!0})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"password",className:"form-control",value:N,onChange:function(e){return y(e.target.value)},placeholder:"Your password"})}),Object(n.jsx)("br",{}),Object(n.jsx)(m.a,{onClick:I,type:"primary",className:"mb-3",block:!0,shape:"round",icon:Object(n.jsx)(x.a,{}),size:"large",disabled:!s||N.length<6,children:"Login with Email/Password"})]}),Object(n.jsx)(m.a,{onClick:D,type:"danger",className:"mb-3",block:!0,shape:"round",icon:Object(n.jsx)(f.a,{}),size:"large",children:"Login with Google"}),Object(n.jsx)(v.b,{to:"/forgot/password",className:"float-right text-danger",children:"Forgot Password"})]})})})},E=function(e){var t=e.history,c=Object(a.useState)(""),r=Object(d.a)(c,2),s=r[0],o=r[1],u=Object(g.c)((function(e){return Object(b.a)({},e)})).user;Object(a.useEffect)((function(){u&&u.token&&t.push("/")}),[u,t]);var h=function(){var e=Object(l.a)(i.a.mark((function e(t){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={url:"http://localhost:3000/register/complete",handleCodeInApp:!0},e.next=4,O.sendSignInLinkToEmail(s,c);case 4:j.b.success("Email is sent to ".concat(s,". Click the link to complete your registration.")),window.localStorage.setItem("emailForRegistration",s),o("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"container p-5",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-md-6 offset-md-3",children:[Object(n.jsx)("h4",{children:"Register"}),Object(n.jsxs)("form",{onSubmit:h,children:[Object(n.jsx)("input",{type:"email",className:"form-control",value:s,onChange:function(e){return o(e.target.value)},placeholder:"Your email",autoFocus:!0}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{type:"submit",className:"btn btn-raised",children:"Register"})]})]})})})},_=c(248),R=c.n(_),A=function(e){var t=e.text;return Object(n.jsx)(R.a,{options:{strings:t,autoStart:!0,loop:!0}})},I=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat("http://localhost:8000/api","/product"),t,{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),D=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat("http://localhost:8000/api","/products/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete("".concat("http://localhost:8000/api","/product/").concat(t),{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),T=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat("http://localhost:8000/api","/product/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(i.a.mark((function e(t,c,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.put("".concat("http://localhost:8000/api","/product/").concat(t),c,{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(i.a.mark((function e(t,c,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat("http://localhost:8000/api","/products"),{sort:t,order:c,page:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),F=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat("http://localhost:8000/api","/products/total"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(l.a)(i.a.mark((function e(t,c,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.put("".concat("http://localhost:8000/api","/product/star/").concat(t),{star:c},{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),B=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat("http://localhost:8000/api","/product/related/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat("http://localhost:8000/api","/search/filters"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=c(538),J=c(116),W=c(548),M=c(549),H=c.p+"static/media/laptop.db0a6ff4.png",V=c(107),Q=c.n(V),K=function(e){if(e&&e.ratings){var t=e&&e.ratings,c=[],a=t.length;t.map((function(e){return c.push(e.star)}));var r=5*c.reduce((function(e,t){return e+t}),0)/(5*a);return Object(n.jsx)("div",{className:"text-center pt-1 pb-3",children:Object(n.jsxs)("span",{children:[Object(n.jsx)(Q.a,{starDimension:"20px",starSpacing:"2px",starRatedColor:"red",rating:r,editing:!1})," ","(",e.ratings.length,")"]})})}},z=c(117),$=c.n(z),X=q.a.Meta,Z=function(e){var t=e.product,c=Object(a.useState)("Click to add"),r=Object(d.a)(c,2),s=r[0],o=r[1],i=Object(g.c)((function(e){return Object(b.a)({},e)})),l=(i.user,i.cart,Object(g.b)()),u=t.images,j=t.title,h=t.description,O=t.slug,p=t.price;return Object(n.jsxs)(n.Fragment,{children:[t&&t.ratings&&t.ratings.length>0?K(t):Object(n.jsx)("div",{className:"text-center pt-1 pb-3",children:"No rating yet"}),Object(n.jsx)(q.a,{cover:Object(n.jsx)("img",{src:u&&u.length?u[0].url:H,style:{height:"150px",objectFit:"cover"},className:"p-1"}),actions:[Object(n.jsxs)(v.b,{to:"/product/".concat(O),children:[Object(n.jsx)(W.a,{className:"text-warning"})," ",Object(n.jsx)("br",{})," View Product"]}),Object(n.jsx)(J.a,{title:s,children:Object(n.jsxs)("a",{onClick:function(){var e=[];if("undefined"!==typeof window){localStorage.getItem("cart")&&(e=JSON.parse(localStorage.getItem("cart"))),e.push(Object(b.a)(Object(b.a)({},t),{},{count:1}));var c=$.a.uniqWith(e,$.a.isEqual);localStorage.setItem("cart",JSON.stringify(c)),o("Added"),l({type:"ADD_TO_CART",payload:c}),l({type:"SET_VISIBLE",payload:!0})}},children:[Object(n.jsx)(M.a,{className:"text-danger"})," ",Object(n.jsx)("br",{})," Add to Cart"]})})],children:Object(n.jsx)(X,{title:"".concat(j," - $").concat(p),description:"".concat(h&&h.substring(0,40),"...")})})]})},ee=c(536),te=function(e){var t=e.count;return Object(n.jsx)("div",{className:"row pb-5",children:function(){for(var e=[],c=0;c<t;c++)e.push(Object(n.jsx)(q.a,{className:"col-md-4",children:Object(n.jsx)(ee.a,{active:!0})},c));return e}()})},ce=c(537),ne=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),c=t[0],r=t[1],s=Object(a.useState)(!1),o=Object(d.a)(s,2),i=o[0],l=o[1],u=Object(a.useState)(0),j=Object(d.a)(u,2),b=j[0],h=j[1],O=Object(a.useState)(1),p=Object(d.a)(O,2),m=p[0],x=p[1];Object(a.useEffect)((function(){f()}),[m]),Object(a.useEffect)((function(){F().then((function(e){return h(e.data)}))}),[]);var f=function(){l(!0),U("createdAt","desc",m).then((function(e){r(e.data),l(!1)}))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"container",children:i?Object(n.jsx)(te,{count:3}):Object(n.jsx)("div",{className:"row",children:c.map((function(e){return Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(Z,{product:e})},e._id)}))})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("nav",{className:"col-md-4 offset-md-4 text-center pt-5 p-3",children:Object(n.jsx)(ce.a,{current:m,total:b/3*10,onChange:function(e){return x(e)}})})})]})},ae=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),c=t[0],r=t[1],s=Object(a.useState)(!1),o=Object(d.a)(s,2),i=o[0],l=o[1],u=Object(a.useState)(0),j=Object(d.a)(u,2),b=j[0],h=j[1],O=Object(a.useState)(1),p=Object(d.a)(O,2),m=p[0],x=p[1];Object(a.useEffect)((function(){f()}),[m]),Object(a.useEffect)((function(){F().then((function(e){return h(e.data)}))}),[]);var f=function(){l(!0),U("sold","desc",m).then((function(e){r(e.data),l(!1)}))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"container",children:i?Object(n.jsx)(te,{count:3}):Object(n.jsx)("div",{className:"row",children:c.map((function(e){return Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(Z,{product:e})},e._id)}))})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("nav",{className:"col-md-4 offset-md-4 text-center pt-5 p-3",children:Object(n.jsx)(ce.a,{current:m,total:b/3*10,onChange:function(e){return x(e)}})})})]})},re=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat("http://localhost:8000/api","/categories"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat("http://localhost:8000/api","/category/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete("".concat("http://localhost:8000/api","/category/").concat(t),{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),ie=function(){var e=Object(l.a)(i.a.mark((function e(t,c,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.put("".concat("http://localhost:8000/api","/category/").concat(t),c,{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),le=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat("http://localhost:8000/api","/category"),t,{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),ue=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat("http://localhost:8000/api","/category/subs/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),c=t[0],r=t[1],s=Object(a.useState)(!1),o=Object(d.a)(s,2),i=o[0],l=o[1];Object(a.useEffect)((function(){l(!0),re().then((function(e){r(e.data),l(!1)}))}),[]);return Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"row",children:i?Object(n.jsx)("h4",{className:"text-center",children:"Loading..."}):c.map((function(e){return Object(n.jsx)("div",{className:"col btn btn-outlined-primary btn-lg btn-block btn-raised m-3",children:Object(n.jsx)(v.b,{to:"/category/".concat(e.slug),children:e.name})},e._id)}))})})},be=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat("http://localhost:8000/api","/subs"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat("http://localhost:8000/api","/sub/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete("".concat("http://localhost:8000/api","/sub/").concat(t),{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(l.a)(i.a.mark((function e(t,c,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.put("".concat("http://localhost:8000/api","/sub/").concat(t),c,{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c,n){return e.apply(this,arguments)}}(),pe=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat("http://localhost:8000/api","/sub"),t,{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),me=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),c=t[0],r=t[1],s=Object(a.useState)(!1),o=Object(d.a)(s,2),i=o[0],l=o[1];Object(a.useEffect)((function(){l(!0),be().then((function(e){r(e.data),l(!1)}))}),[]);return Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"row",children:i?Object(n.jsx)("h4",{className:"text-center",children:"Loading..."}):c.map((function(e){return Object(n.jsx)("div",{className:"col btn btn-outlined-primary btn-lg btn-block btn-raised m-3",children:Object(n.jsx)(v.b,{to:"/sub/".concat(e.slug),children:e.name})},e._id)}))})})},xe=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"jumbotron text-danger h1 font-weight-bold text-center",children:Object(n.jsx)(A,{text:["Latest Products","New Arrivals","Best Sellers"]})}),Object(n.jsx)("h4",{className:"text-center p-3 mt-5 mb-5 display-4 jumbotron",children:"New Arrivals"}),Object(n.jsx)(ne,{}),Object(n.jsx)("h4",{className:"text-center p-3 mt-5 mb-5 display-4 jumbotron",children:"Best Sellers"}),Object(n.jsx)(ae,{}),Object(n.jsx)("h4",{className:"text-center p-3 mt-5 mb-5 display-4 jumbotron",children:"Categories"}),Object(n.jsx)(je,{}),Object(n.jsx)("h4",{className:"text-center p-3 mt-5 mb-5 display-4 jumbotron",children:"Sub Categories"}),Object(n.jsx)(me,{}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]})},fe=c(539),ge=c(544),ve=c(551),Ne=c(552),ye=c(553),Se=c(554),we=c(555),ke=c(556),Ce=c(550),Ee=function(){var e=Object(g.b)(),t=Object(g.c)((function(e){return Object(b.a)({},e)})).search.text,c=Object(u.f)(),a=function(e){e.preventDefault(),c.push("/shop?".concat(t))};return Object(n.jsxs)("form",{className:"form-inline my-2 my-lg-0",onSubmit:a,children:[Object(n.jsx)("input",{onChange:function(t){e({type:"SEARCH_QUERY",payload:{text:t.target.value}})},type:"search",value:t,className:"form-control mr-sm-2",placeholder:"Search"}),Object(n.jsx)(Ce.a,{onClick:a,style:{cursor:"pointer"}})]})},_e=fe.a.SubMenu,Re=fe.a.Item,Ae=function(){var e=Object(a.useState)("home"),t=Object(d.a)(e,2),c=t[0],r=t[1],s=Object(g.b)(),o=Object(g.c)((function(e){return Object(b.a)({},e)})),i=o.user,l=o.cart,j=Object(u.f)();return Object(n.jsxs)(fe.a,{onClick:function(e){r(e.key)},selectedKeys:[c],mode:"horizontal",children:[Object(n.jsx)(Re,{icon:Object(n.jsx)(ve.a,{}),children:Object(n.jsx)(v.b,{to:"/",children:"Home"})},"home"),Object(n.jsx)(Re,{icon:Object(n.jsx)(Ne.a,{}),children:Object(n.jsx)(v.b,{to:"/shop",children:"Shop"})},"shop"),Object(n.jsx)(Re,{icon:Object(n.jsx)(M.a,{}),children:Object(n.jsx)(v.b,{to:"/cart",children:Object(n.jsx)(ge.a,{count:l.length,offset:[9,0],children:"Cart"})})},"cart"),!i&&Object(n.jsx)(Re,{icon:Object(n.jsx)(ye.a,{}),className:"float-right",children:Object(n.jsx)(v.b,{to:"/register",children:"Register"})},"register"),!i&&Object(n.jsx)(Re,{icon:Object(n.jsx)(Se.a,{}),className:"float-right",children:Object(n.jsx)(v.b,{to:"/login",children:"Login"})},"login"),i&&Object(n.jsxs)(_e,{icon:Object(n.jsx)(we.a,{}),title:i.email&&i.email.split("@")[0],className:"float-right",children:[i&&"subscriber"===i.role&&Object(n.jsx)(Re,{children:Object(n.jsx)(v.b,{to:"/user/history",children:"Dashboard"})}),i&&"admin"===i.role&&Object(n.jsx)(Re,{children:Object(n.jsx)(v.b,{to:"/admin/dashboard",children:"Dashboard"})}),i&&"seller"===i.role&&Object(n.jsx)(Re,{children:Object(n.jsx)(v.b,{to:"/seller/dashboard",children:"Dashboard"})}),Object(n.jsx)(Re,{icon:Object(n.jsx)(ke.a,{}),onClick:function(){h.a.auth().signOut(),s({type:"LOGOUT",payload:null}),j.push("/login")},children:"Logout"})]}),Object(n.jsx)("span",{className:"float-right p-1",children:Object(n.jsx)(Ee,{})})]})},Ie=c(542),De=function(){var e=Object(g.b)(),t=Object(g.c)((function(e){return Object(b.a)({},e)})),c=t.drawer,a=t.cart,r={width:"100%",height:"50px",objectFit:"cover"};return Object(n.jsxs)(Ie.a,{className:"text-center",title:"Cart / ".concat(a.length," Product"),placement:"right",closable:!1,onClose:function(){e({type:"SET_VISIBLE",payload:!1})},visible:c,children:[a.map((function(e){return Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col",children:e.images[0]?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("img",{src:e.images[0].url,style:r}),Object(n.jsxs)("p",{className:"text-center bg-secondary text-light",children:[e.title," x ",e.count]})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("img",{src:H,style:r}),Object(n.jsxs)("p",{className:"text-center bg-secondary text-light",children:[e.title," x ",e.count]})]})})},e._id)})),Object(n.jsx)(v.b,{to:"/cart",children:Object(n.jsx)("button",{onClick:function(){return e({type:"SET_VISIBLE",payload:!1})},className:"text-center btn btn-primary btn-raised btn-block",children:"Go To Cart"})})]})},Pe=function(e){var t=e.history,c=Object(a.useState)(""),r=Object(d.a)(c,2),s=r[0],o=r[1],u=Object(a.useState)(""),b=Object(d.a)(u,2),h=b[0],p=b[1],m=Object(g.b)();Object(a.useEffect)((function(){o(window.localStorage.getItem("emailForRegistration"))}),[t]);var x=function(){var e=Object(l.a)(i.a.mark((function e(c){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),s&&h){e.next=4;break}return j.b.error("Email and password is required"),e.abrupt("return");case 4:if(!(h.length<6)){e.next=7;break}return j.b.error("Password must be at least 6 characters long"),e.abrupt("return");case 7:return e.prev=7,e.next=10,O.signInWithEmailLink(s,window.location.href);case 10:if(!e.sent.user.emailVerified){e.next=22;break}return window.localStorage.removeItem("emailForRegistration"),n=O.currentUser,e.next=16,n.updatePassword(h);case 16:return e.next=18,n.getIdTokenResult();case 18:a=e.sent,console.log("user",n,"idTokenResult",a),S(a.token).then((function(e){m({type:"LOGGED_IN_USER",payload:{name:e.data.name,email:e.data.email,token:a.token,role:e.data.role,_id:e.data._id}})})).catch((function(e){return console.log(e)})),t.push("/");case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(7),console.log(e.t0),j.b.error(e.t0.message);case 28:case"end":return e.stop()}}),e,null,[[7,24]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"container p-5",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-md-6 offset-md-3",children:[Object(n.jsx)("h4",{children:"Register Complete"}),Object(n.jsxs)("form",{onSubmit:x,children:[Object(n.jsx)("input",{type:"email",className:"form-control",value:s,disabled:!0}),Object(n.jsx)("input",{type:"password",className:"form-control",value:h,onChange:function(e){return p(e.target.value)},placeholder:"Password",autoFocus:!0}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{type:"submit",className:"btn btn-raised",children:"Complete Registration"})]})]})})})},Te=function(e){var t=e.history,c=Object(a.useState)(""),r=Object(d.a)(c,2),s=r[0],o=r[1],u=Object(a.useState)(!1),h=Object(d.a)(u,2),p=h[0],m=h[1],x=Object(g.c)((function(e){return Object(b.a)({},e)})).user;Object(a.useEffect)((function(){x&&x.token&&t.push("/")}),[x,t]);var f=function(){var e=Object(l.a)(i.a.mark((function e(t){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),m(!0),c={url:"http://localhost:3000/login",handleCodeInApp:!0},e.next=5,O.sendPasswordResetEmail(s,c).then((function(){o(""),m(!1),j.b.success("Check your email for password reset link")})).catch((function(e){m(!1),j.b.error(e.message),console.log("ERROR MSG IN FORGOT PASSWORD",e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"container col-md-6 offset-md-3 p-5",children:[p?Object(n.jsx)("h4",{className:"text-danger",children:"Loading"}):Object(n.jsx)("h4",{children:"Forgot Password"}),Object(n.jsxs)("form",{onSubmit:f,children:[Object(n.jsx)("input",{type:"email",className:"form-control",value:s,onChange:function(e){return o(e.target.value)},placeholder:"Type your email",autoFocus:!0}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{className:"btn btn-raised",disabled:!s,children:"Submit"})]})]})},Le=function(){return Object(n.jsx)("nav",{children:Object(n.jsxs)("ul",{className:"nav flex-column",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(v.b,{to:"/user/history",className:"nav-link",children:"Historyh"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(v.b,{to:"/user/password",className:"nav-link",children:"Password"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(v.b,{to:"/user/wishlist",className:"nav-link",children:"Wishlist"})})]})})},Ue=function(){return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsx)(Le,{})}),Object(n.jsx)("div",{className:"col",children:"user history page"})]})})},Fe=c(167),Ye=function(){var e=Object(a.useState)(5),t=Object(d.a)(e,2),c=t[0],r=t[1],s=Object(u.f)();return Object(a.useEffect)((function(){var e=setInterval((function(){r((function(e){return--e}))}),1e3);return 0===c&&s.push("/"),function(){return clearInterval(e)}}),[c,s]),Object(n.jsx)("div",{className:"container p-5 text-center",children:Object(n.jsxs)("p",{children:["Redirecting you in ",c," seconds"]})})},Be=function(e){e.children;var t=Object(Fe.a)(e,["children"]),c=Object(g.c)((function(e){return Object(b.a)({},e)})).user;return c&&c.token?Object(n.jsx)(u.a,Object(b.a)({},t)):Object(n.jsx)(Ye,{})},Ge=function(e){e.children;var t=Object(Fe.a)(e,["children"]),c=Object(g.c)((function(e){return Object(b.a)({},e)})).user,r=Object(a.useState)(!1),s=Object(d.a)(r,2),o=s[0],i=s[1];return Object(a.useEffect)((function(){c&&c.token&&k(c.token).then((function(e){console.log("CURRENT ADMIN RES",e),i(!0)})).catch((function(e){console.log("ADMIN ROUTE ERR",e),i(!1)}))}),[c]),o?Object(n.jsx)(u.a,Object(b.a)({},t)):Object(n.jsx)(Ye,{})},qe=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),c=t[0],r=t[1],s=Object(a.useState)(!1),o=Object(d.a)(s,2),u=o[0],b=o[1],h=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),b(!0),e.next=4,O.currentUser.updatePassword(c).then((function(){b(!1),r(""),j.b.success("Password updated")})).catch((function(e){b(!1),j.b.error(e.message)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsx)(Le,{})}),Object(n.jsxs)("div",{className:"col",children:[u?Object(n.jsx)("h4",{className:"text-danger",children:"Loading.."}):Object(n.jsx)("h4",{children:"Password Update"}),Object(n.jsx)("form",{onSubmit:h,children:Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Your Password"}),Object(n.jsx)("input",{type:"password",onChange:function(e){return r(e.target.value)},className:"form-control",placeholder:"Enter new password",disabled:u,value:c}),Object(n.jsx)("button",{className:"btn btn-primary",disabled:!c||c.length<6||u,children:"Submit"})]})})]})]})})},Je=function(){return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsx)(Le,{})}),Object(n.jsx)("div",{className:"col",children:"user wishlist page"})]})})},We=function(){return Object(n.jsx)("nav",{children:Object(n.jsxs)("ul",{className:"nav flex-column",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(v.b,{to:"/admin/dashboard",className:"nav-link",children:"Dashboard"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(v.b,{to:"/admin/product",className:"nav-link",children:"Product"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(v.b,{to:"/admin/products",className:"nav-link",children:"Products"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(v.b,{to:"/admin/category",className:"nav-link",children:"Category"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(v.b,{to:"/admin/sub",className:"nav-link",children:"Sub Category"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(v.b,{to:"/admin/coupon",className:"nav-link",children:"Coupon"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(v.b,{to:"/user/password",className:"nav-link",children:"Password"})})]})})},Me=function(){return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsx)(We,{})}),Object(n.jsx)("div",{className:"col",children:Object(n.jsx)("h4",{children:"Admin Dashboard"})})]})})},He=function(){return Object(n.jsx)("nav",{children:Object(n.jsxs)("ul",{className:"nav flex-column",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(v.b,{to:"/seller/history",className:"nav-link",children:"seller History"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(v.b,{to:"/seller/password",className:"nav-link",children:"Password"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(v.b,{to:"/seller/wishlist",className:"nav-link",children:"Wishlist"})})]})})},Ve=function(){return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsx)(He,{})}),Object(n.jsx)("div",{className:"col",children:Object(n.jsx)("h4",{children:"SellerDashboard"})})]})})},Qe=c(557),Ke=c(558),ze=function(e){var t=e.handleSubmit,c=e.name,a=e.setName;return Object(n.jsx)("form",{onSubmit:t,children:Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Name"}),Object(n.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return a(e.target.value)},value:c,autoFocus:!0,required:!0}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{className:"btn btn-outline-primary",children:"Save"})]})})},$e=function(e){var t=e.keyword,c=e.setKeyword;return Object(n.jsx)("input",{type:"search",placeholder:"Filter",value:t,onChange:function(e){e.preventDefault(),c(e.target.value.toLowerCase())},className:"form-control mb-4"})},Xe=function(){var e=Object(g.c)((function(e){return Object(b.a)({},e)})).user,t=Object(a.useState)(""),c=Object(d.a)(t,2),r=c[0],s=c[1],o=Object(a.useState)(!1),u=Object(d.a)(o,2),h=u[0],O=u[1],p=Object(a.useState)([]),m=Object(d.a)(p,2),x=m[0],f=m[1],N=Object(a.useState)(""),y=Object(d.a)(N,2),S=y[0],w=y[1];Object(a.useEffect)((function(){k()}),[]);var k=function(){return re().then((function(e){return f(e.data)}))},C=function(){var t=Object(l.a)(i.a.mark((function t(c){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.confirm("Delete?")&&(O(!0),oe(c,e.token).then((function(e){O(!1),j.b.error("".concat(e.data.name," deleted")),k()})).catch((function(e){400===e.response.status&&(O(!1),j.b.error(e.response.data))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsx)(We,{})}),Object(n.jsxs)("div",{className:"col",children:[h?Object(n.jsx)("h4",{className:"text-danger",children:"Loading.."}):Object(n.jsx)("h4",{children:"Create category"}),Object(n.jsx)(ze,{handleSubmit:function(t){t.preventDefault(),O(!0),le({name:r},e.token).then((function(e){O(!1),s(""),j.b.success('"'.concat(e.data.name,'" is created')),k()})).catch((function(e){console.log(e),O(!1),400===e.response.status&&j.b.error(e.response.data)}))},name:r,setName:s}),Object(n.jsx)($e,{keyword:S,setKeyword:w}),x.filter(function(e){return function(t){return t.name.toLowerCase().includes(e)}}(S)).map((function(e){return Object(n.jsxs)("div",{className:"alert alert-secondary",children:[e.name,Object(n.jsx)("span",{onClick:function(){return C(e.slug)},className:"btn btn-sm float-right",children:Object(n.jsx)(Qe.a,{className:"text-danger"})}),Object(n.jsx)(v.b,{to:"/admin/category/".concat(e.slug),children:Object(n.jsx)("span",{className:"btn btn-sm float-right",children:Object(n.jsx)(Ke.a,{className:"text-warning"})})})]},e._id)}))]})]})})},Ze=function(e){var t=e.history,c=e.match,r=Object(g.c)((function(e){return Object(b.a)({},e)})).user,s=Object(a.useState)(""),o=Object(d.a)(s,2),i=o[0],l=o[1],u=Object(a.useState)(!1),h=Object(d.a)(u,2),O=h[0],p=h[1];Object(a.useEffect)((function(){m()}),[]);var m=function(){return se(c.params.slug).then((function(e){return l(e.data.name)}))};return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsx)(We,{})}),Object(n.jsxs)("div",{className:"col",children:[O?Object(n.jsx)("h4",{className:"text-danger",children:"Loading.."}):Object(n.jsx)("h4",{children:"Update category"}),Object(n.jsx)(ze,{handleSubmit:function(e){e.preventDefault(),p(!0),ie(c.params.slug,{name:i},r.token).then((function(e){p(!1),l(""),j.b.success('"'.concat(e.data.name,'" is updated')),t.push("/admin/category")})).catch((function(e){console.log(e),p(!1),400===e.response.status&&j.b.error(e.response.data)}))},name:i,setName:l}),Object(n.jsx)("hr",{})]})]})})},et=function(){var e=Object(g.c)((function(e){return Object(b.a)({},e)})).user,t=Object(a.useState)(""),c=Object(d.a)(t,2),r=c[0],s=c[1],o=Object(a.useState)(!1),u=Object(d.a)(o,2),h=u[0],O=u[1],p=Object(a.useState)([]),m=Object(d.a)(p,2),x=m[0],f=m[1],N=Object(a.useState)(""),y=Object(d.a)(N,2),S=y[0],w=y[1],k=Object(a.useState)([]),C=Object(d.a)(k,2),E=C[0],_=C[1],R=Object(a.useState)(""),A=Object(d.a)(R,2),I=A[0],D=A[1];Object(a.useEffect)((function(){P(),T()}),[]);var P=function(){return re().then((function(e){return f(e.data)}))},T=function(){return be().then((function(e){return _(e.data)}))},L=function(){var t=Object(l.a)(i.a.mark((function t(c){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.confirm("Delete?")&&(O(!0),he(c,e.token).then((function(e){O(!1),j.b.error("".concat(e.data.name," deleted")),T()})).catch((function(e){400===e.response.status&&(O(!1),j.b.error(e.response.data))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsx)(We,{})}),Object(n.jsxs)("div",{className:"col",children:[h?Object(n.jsx)("h4",{className:"text-danger",children:"Loading.."}):Object(n.jsx)("h4",{children:"Create sub category"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Parent category"}),Object(n.jsxs)("select",{name:"category",className:"form-control",onChange:function(e){return w(e.target.value)},children:[Object(n.jsx)("option",{children:"Please select"}),x.length>0&&x.map((function(e){return Object(n.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(n.jsx)(ze,{handleSubmit:function(t){t.preventDefault(),O(!0),pe({name:r,parent:S},e.token).then((function(e){O(!1),s(""),j.b.success('"'.concat(e.data.name,'" is created')),T()})).catch((function(e){console.log(e),O(!1),400===e.response.status&&j.b.error(e.response.data)}))},name:r,setName:s}),Object(n.jsx)($e,{keyword:I,setKeyword:D}),E.filter(function(e){return function(t){return t.name.toLowerCase().includes(e)}}(I)).map((function(e){return Object(n.jsxs)("div",{className:"alert alert-secondary",children:[e.name,Object(n.jsx)("span",{onClick:function(){return L(e.slug)},className:"btn btn-sm float-right",children:Object(n.jsx)(Qe.a,{className:"text-danger"})}),Object(n.jsx)(v.b,{to:"/admin/sub/".concat(e.slug),children:Object(n.jsx)("span",{className:"btn btn-sm float-right",children:Object(n.jsx)(Ke.a,{className:"text-warning"})})})]},e._id)}))]})]})})},tt=function(e){var t=e.match,c=e.history,r=Object(g.c)((function(e){return Object(b.a)({},e)})).user,s=Object(a.useState)(""),o=Object(d.a)(s,2),i=o[0],l=o[1],u=Object(a.useState)(!1),h=Object(d.a)(u,2),O=h[0],p=h[1],m=Object(a.useState)([]),x=Object(d.a)(m,2),f=x[0],v=x[1],N=Object(a.useState)(""),y=Object(d.a)(N,2),S=y[0],w=y[1];Object(a.useEffect)((function(){k(),C()}),[]);var k=function(){return re().then((function(e){return v(e.data)}))},C=function(){return de(t.params.slug).then((function(e){l(e.data.name),w(e.data.parent)}))};return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsx)(We,{})}),Object(n.jsxs)("div",{className:"col",children:[O?Object(n.jsx)("h4",{className:"text-danger",children:"Loading.."}):Object(n.jsx)("h4",{children:"Update sub category"}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Parent category"}),Object(n.jsxs)("select",{name:"category",className:"form-control",onChange:function(e){return w(e.target.value)},children:[Object(n.jsx)("option",{children:"Please select"}),f.length>0&&f.map((function(e){return Object(n.jsx)("option",{value:e._id,selected:e._id===S,children:e.name},e._id)}))]})]}),Object(n.jsx)(ze,{handleSubmit:function(e){e.preventDefault(),p(!0),Oe(t.params.slug,{name:i,parent:S},r.token).then((function(e){p(!1),l(""),j.b.success('"'.concat(e.data.name,'" is updated')),c.push("/admin/sub")})).catch((function(e){console.log(e),p(!1),400===e.response.status&&j.b.error(e.response.data)}))},name:i,setName:l})]})]})})},ct=c(104),nt=c(134),at=nt.a.Option,rt=function(e){var t=e.handleSubmit,c=e.handleChange,a=e.setValues,r=e.values,s=e.handleCatagoryChange,o=e.subOptions,i=e.showSub,l=r.title,u=r.description,j=r.price,d=r.categories,h=(r.category,r.subs),O=(r.shipping,r.quantity),p=(r.images,r.colors),m=r.brands;r.color,r.brand;return Object(n.jsxs)("form",{onSubmit:t,children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Title"}),Object(n.jsx)("input",{type:"text",name:"title",className:"form-control",value:l,onChange:c})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Description"}),Object(n.jsx)("input",{type:"text",name:"description",className:"form-control",value:u,onChange:c})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Price"}),Object(n.jsx)("input",{type:"number",name:"price",className:"form-control",value:j,onChange:c})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Shipping"}),Object(n.jsxs)("select",{name:"shipping",className:"form-control",onChange:c,children:[Object(n.jsx)("option",{children:"Please select"}),Object(n.jsx)("option",{value:"No",children:"No"}),Object(n.jsx)("option",{value:"Yes",children:"Yes"})]})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Quantity"}),Object(n.jsx)("input",{type:"number",name:"quantity",className:"form-control",value:O,onChange:c})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Color"}),Object(n.jsxs)("select",{name:"color",className:"form-control",onChange:c,children:[Object(n.jsx)("option",{children:"Please select"}),p.map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)}))]})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Brand"}),Object(n.jsxs)("select",{name:"brand",className:"form-control",onChange:c,children:[Object(n.jsx)("option",{children:"Please select"}),m.map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)}))]})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Category"}),Object(n.jsxs)("select",{name:"category",className:"form-control",onChange:s,children:[Object(n.jsx)("option",{children:"Please select"}),d.length>0&&d.map((function(e){return Object(n.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),i&&Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:"Sub Categories"}),Object(n.jsx)(nt.a,{mode:"multiple",style:{width:"100%"},placeholder:"Please select",value:h,onChange:function(e){return a(Object(b.a)(Object(b.a)({},r),{},{subs:e}))},children:o.length&&o.map((function(e){return Object(n.jsx)(at,{value:e._id,children:e.name},e._id)}))})]}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{className:"btn btn-outline-info",children:"Save"})]})},st=c(260),ot=c.n(st),it=c(541),lt=function(e){var t=e.values,c=e.setValues,a=e.setLoading,r=Object(g.c)((function(e){return Object(b.a)({},e)})).user;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:t.images&&t.images.map((function(e){return Object(n.jsx)(ge.a,{count:"X",onClick:function(){return n=e.public_id,a(!0),void y.a.post("".concat("http://localhost:8000/api","/removeimage"),{public_id:n},{headers:{authtoken:r?r.token:""}}).then((function(e){a(!1);var r=t.images.filter((function(e){return e.public_id!==n}));c(Object(b.a)(Object(b.a)({},t),{},{images:r}))})).catch((function(e){console.log(e),a(!1)}));var n},style:{cursor:"pointer"},children:Object(n.jsx)(it.a,{src:e.url,size:100,shape:"square",className:"ml-3"})},e.public_id)}))}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("label",{className:"btn btn-primary btn-raised mt-3",children:["Choose File",Object(n.jsx)("input",{type:"file",multiple:!0,hidden:!0,accept:"images/*",onChange:function(e){var n=e.target.files,s=t.images;if(n){a(!0);for(var o=0;o<n.length;o++)ot.a.imageFileResizer(n[o],720,720,"JPEG",100,0,(function(e){y.a.post("".concat("http://localhost:8000/api","/uploadimages"),{image:e},{headers:{authtoken:r?r.token:""}}).then((function(e){console.log("IMAGE UPLOAD RES DATA",e),a(!1),s.push(e.data),c(Object(b.a)(Object(b.a)({},t),{},{images:s}))})).catch((function(e){a(!1),console.log("CLOUDINARY UPLOAD ERR",e)}))}),"base64")}}})]})})]})},ut=c(559),jt={title:"Macbook Pro",description:"This is the best Apple product",price:"45000",categories:[],category:"",subs:[],shipping:"Yes",quantity:"50",images:[],colors:["Black","Brown","Silver","White","Blue"],brands:["Apple","Samsung","Microsoft","Lenovo","ASUS"],color:"White",brand:"Apple"},bt=function(){var e=Object(a.useState)(jt),t=Object(d.a)(e,2),c=t[0],r=t[1],s=Object(a.useState)([]),o=Object(d.a)(s,2),i=o[0],l=o[1],u=Object(a.useState)(!1),h=Object(d.a)(u,2),O=h[0],p=h[1],m=Object(a.useState)(!1),x=Object(d.a)(m,2),f=x[0],v=x[1],N=Object(g.c)((function(e){return Object(b.a)({},e)})).user;Object(a.useEffect)((function(){y()}),[]);var y=function(){return re().then((function(e){return r(Object(b.a)(Object(b.a)({},c),{},{categories:e.data}))}))};return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsx)(We,{})}),Object(n.jsxs)("div",{className:"col-md-10",children:[f?Object(n.jsx)(ut.a,{className:"text-danger h1"}):Object(n.jsx)("h4",{children:"Product create"}),Object(n.jsx)("hr",{}),Object(n.jsx)("div",{className:"p-3",children:Object(n.jsx)(lt,{values:c,setValues:r,setLoading:v})}),Object(n.jsx)(rt,{handleSubmit:function(e){e.preventDefault(),I(c,N.token).then((function(e){console.log(e),window.alert('"'.concat(e.data.title,'" is created')),window.location.reload()})).catch((function(e){console.log(e),j.b.error(e.response.data.err)}))},handleChange:function(e){r(Object(b.a)(Object(b.a)({},c),{},Object(ct.a)({},e.target.name,e.target.value)))},setValues:r,values:c,handleCatagoryChange:function(e){e.preventDefault(),console.log("CLICKED CATEGORY",e.target.value),r(Object(b.a)(Object(b.a)({},c),{},{subs:[],category:e.target.value})),ue(e.target.value).then((function(e){console.log("SUB OPTIONS ON CATGORY CLICK",e),l(e.data)})),p(!0)},subOptions:i,showSub:O})]})]})})},dt=q.a.Meta,ht=function(e){var t=e.product,c=e.handleRemove,a=t.title,r=t.description,s=t.images,o=t.slug;return Object(n.jsx)(q.a,{cover:Object(n.jsx)("img",{src:s&&s.length?s[0].url:H,style:{height:"150px",objectFit:"cover"},className:"p-1"}),actions:[Object(n.jsx)(v.b,{to:"/admin/product/".concat(o),children:Object(n.jsx)(Ke.a,{className:"text-warning"})}),Object(n.jsx)(Qe.a,{onClick:function(){return c(o)},className:"text-danger"})],children:Object(n.jsx)(dt,{title:a,description:"".concat(r&&r.substring(0,40),"...")})})},Ot=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),c=t[0],r=t[1],s=Object(a.useState)(!1),o=Object(d.a)(s,2),i=o[0],l=o[1],u=Object(g.c)((function(e){return Object(b.a)({},e)})).user;Object(a.useEffect)((function(){h()}),[]);var h=function(){l(!0),D(100).then((function(e){r(e.data),l(!1)})).catch((function(e){l(!1),console.log(e)}))},O=function(e){window.confirm("Delete?")&&P(e,u.token).then((function(e){h(),j.b.error("".concat(e.data.title," is deleted"))})).catch((function(e){400===e.response.status&&j.b.error(e.response.data),console.log(e)}))};return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsx)(We,{})}),Object(n.jsxs)("div",{className:"col",children:[i?Object(n.jsx)("h4",{className:"text-danger",children:"Loading..."}):Object(n.jsx)("h4",{children:"All Products"}),Object(n.jsx)("div",{className:"row",children:c.map((function(e){return Object(n.jsx)("div",{className:"col-md-4 pb-3",children:Object(n.jsx)(ht,{product:e,handleRemove:O})},e._id)}))})]})]})})},pt=nt.a.Option,mt=function(e){var t=e.handleSubmit,c=e.handleChange,a=(e.setValues,e.values),r=e.handleCategoryChange,s=e.categories,o=e.subOptions,i=e.arrayOfSubs,l=e.setArrayOfSubs,u=e.selectedCategory,j=a.title,b=a.description,d=a.price,h=a.category,O=(a.subs,a.shipping),p=a.quantity,m=(a.images,a.colors),x=a.brands,f=a.color,g=a.brand;return Object(n.jsxs)("form",{onSubmit:t,children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Title"}),Object(n.jsx)("input",{type:"text",name:"title",className:"form-control",value:j,onChange:c})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Description"}),Object(n.jsx)("input",{type:"text",name:"description",className:"form-control",value:b,onChange:c})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Price"}),Object(n.jsx)("input",{type:"number",name:"price",className:"form-control",value:d,onChange:c})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Shipping"}),Object(n.jsxs)("select",{value:"Yes"===O?"Yes":"No",name:"shipping",className:"form-control",onChange:c,children:[Object(n.jsx)("option",{value:"No",children:"No"}),Object(n.jsx)("option",{value:"Yes",children:"Yes"})]})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Quantity"}),Object(n.jsx)("input",{type:"number",name:"quantity",className:"form-control",value:p,onChange:c})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Color"}),Object(n.jsx)("select",{value:f,name:"color",className:"form-control",onChange:c,children:m.map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)}))})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Brand"}),Object(n.jsx)("select",{value:g,name:"brand",className:"form-control",onChange:c,children:x.map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)}))})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Category"}),Object(n.jsx)("select",{name:"category",className:"form-control",onChange:r,value:u||h._id,children:s.length>0&&s.map((function(e){return Object(n.jsx)("option",{value:e._id,children:e.name},e._id)}))})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{children:"Sub Categories"}),Object(n.jsx)(nt.a,{mode:"multiple",style:{width:"100%"},placeholder:"Please select",value:i,onChange:function(e){return l(e)},children:o.length&&o.map((function(e){return Object(n.jsx)(pt,{value:e._id,children:e.name},e._id)}))})]}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{className:"btn btn-outline-info",children:"Save"})]})},xt={title:"",description:"",price:"",category:"",subs:[],shipping:"",quantity:"",images:[],colors:["Black","Brown","Silver","White","Blue"],brands:["Apple","Samsung","Microsoft","Lenovo","ASUS"],color:"",brand:""},ft=function(e){var t=e.match,c=e.history,r=Object(a.useState)(xt),s=Object(d.a)(r,2),o=s[0],i=s[1],l=Object(a.useState)([]),u=Object(d.a)(l,2),h=u[0],O=u[1],p=Object(a.useState)([]),m=Object(d.a)(p,2),x=m[0],f=m[1],v=Object(a.useState)([]),N=Object(d.a)(v,2),y=N[0],S=N[1],w=Object(a.useState)(""),k=Object(d.a)(w,2),C=k[0],E=k[1],_=Object(a.useState)(!1),R=Object(d.a)(_,2),A=R[0],I=R[1],D=Object(g.c)((function(e){return Object(b.a)({},e)})).user,P=t.params.slug;Object(a.useEffect)((function(){U(),F()}),[]);var U=function(){T(P).then((function(e){i(Object(b.a)(Object(b.a)({},o),e.data)),ue(e.data.category._id).then((function(e){f(e.data)}));var t=[];e.data.subs.map((function(e){t.push(e._id)})),console.log("ARR",t),S((function(e){return t}))}))},F=function(){return re().then((function(e){console.log("GET CATEGORIES IN UPDATE PRODUCT",e.data),O(e.data)}))};return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsx)(We,{})}),Object(n.jsxs)("div",{className:"col-md-10",children:[A?Object(n.jsx)(ut.a,{className:"text-danger h1"}):Object(n.jsx)("h4",{children:"Product update"}),Object(n.jsx)("div",{className:"p-3",children:Object(n.jsx)(lt,{values:o,setValues:i,setLoading:I})}),Object(n.jsx)(mt,{handleSubmit:function(e){e.preventDefault(),I(!0),o.subs=y,o.category=C||o.category,L(P,o,D.token).then((function(e){I(!1),j.b.success('"'.concat(e.data.title,'" is updated')),c.push("/admin/products")})).catch((function(e){console.log(e),I(!1),j.b.error(e.response.data.err)}))},handleChange:function(e){i(Object(b.a)(Object(b.a)({},o),{},Object(ct.a)({},e.target.name,e.target.value)))},setValues:i,values:o,handleCategoryChange:function(e){e.preventDefault(),console.log("CLICKED CATEGORY",e.target.value),i(Object(b.a)(Object(b.a)({},o),{},{subs:[]})),E(e.target.value),ue(e.target.value).then((function(e){console.log("SUB OPTIONS ON CATGORY CLICK",e),f(e.data)})),console.log("EXISTING CATEGORY values.category",o.category),o.category._id===e.target.value&&U(),S([])},categories:h,subOptions:x,arrayOfSubs:y,setArrayOfSubs:S,selectedCategory:C}),Object(n.jsx)("hr",{})]})]})})},gt=c(197),vt=c(561),Nt=c(261),yt=(c(350),function(e){var t=e.product,c=t.price,a=t.category,r=t.subs,s=t.shipping,o=t.color,i=t.brand,l=t.quantity,u=t.sold;return Object(n.jsxs)("ul",{className:"list-group",children:[Object(n.jsxs)("li",{className:"list-group-item",children:["Price"," ",Object(n.jsxs)("span",{className:"label label-default label-pill pull-xs-right",children:["$ ",c]})]}),a&&Object(n.jsxs)("li",{className:"list-group-item",children:["Category"," ",Object(n.jsx)(v.b,{to:"/category/".concat(a.slug),className:"label label-default label-pill pull-xs-right",children:a.name})]}),r&&Object(n.jsxs)("li",{className:"list-group-item",children:["Sub Categories",r.map((function(e){return Object(n.jsx)(v.b,{to:"/sub/".concat(e.slug),className:"label label-default label-pill pull-xs-right",children:e.name},e._id)}))]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Shipping"," ",Object(n.jsx)("span",{className:"label label-default label-pill pull-xs-right",children:s})]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Color"," ",Object(n.jsx)("span",{className:"label label-default label-pill pull-xs-right",children:o})]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Brand"," ",Object(n.jsx)("span",{className:"label label-default label-pill pull-xs-right",children:i})]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Available"," ",Object(n.jsx)("span",{className:"label label-default label-pill pull-xs-right",children:l})]}),Object(n.jsxs)("li",{className:"list-group-item",children:["Sold"," ",Object(n.jsx)("span",{className:"label label-default label-pill pull-xs-right",children:u})]})]})}),St=c(540),wt=c(560),kt=function(e){var t=e.children,c=Object(g.c)((function(e){return Object(b.a)({},e)})).user,r=Object(a.useState)(!1),s=Object(d.a)(r,2),o=s[0],i=s[1],l=Object(u.f)(),h=Object(u.g)().slug;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{onClick:function(){c&&c.token?i(!0):l.push({pathname:"/login",state:{from:"/product/".concat(h)}})},children:[Object(n.jsx)(wt.a,{className:"text-danger"})," ",Object(n.jsx)("br",{})," ",c?"Leave rating":"Login to leave rating"]}),Object(n.jsx)(St.a,{title:"Leave your rating",centered:!0,visible:o,onOk:function(){i(!1),j.b.success("Thanks for your review. It will apper soon")},onCancel:function(){return i(!1)},children:t})]})},Ct=gt.a.TabPane,Et=function(e){var t=e.product,c=e.onStarClick,r=e.star,s=Object(a.useState)("Click to add"),o=Object(d.a)(s,2),i=o[0],l=o[1],u=Object(g.c)((function(e){return Object(b.a)({},e)})),j=(u.user,u.cart,Object(g.b)()),h=t.title,O=t.images,p=t.description,m=t._id;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"col-md-7",children:[O&&O.length?Object(n.jsx)(Nt.Carousel,{showArrows:!0,autoPlay:!0,infiniteLoop:!0,children:O&&O.map((function(e){return Object(n.jsx)("img",{src:e.url},e.public_id)}))}):Object(n.jsx)(q.a,{cover:Object(n.jsx)("img",{src:H,className:"mb-3 card-image"})}),Object(n.jsxs)(gt.a,{type:"card",children:[Object(n.jsx)(Ct,{tab:"Description",children:p&&p},"1"),Object(n.jsx)(Ct,{tab:"More",children:"Call use on xxxx xxx xxx to learn more about this product."},"2")]})]}),Object(n.jsxs)("div",{className:"col-md-5",children:[Object(n.jsx)("h1",{className:"bg-info p-3",children:h}),t&&t.ratings&&t.ratings.length>0?K(t):Object(n.jsx)("div",{className:"text-center pt-1 pb-3",children:"No rating yet"}),Object(n.jsx)(q.a,{actions:[Object(n.jsx)(J.a,{title:i,children:Object(n.jsxs)("a",{onClick:function(){var e=[];if("undefined"!==typeof window){localStorage.getItem("cart")&&(e=JSON.parse(localStorage.getItem("cart"))),e.push(Object(b.a)(Object(b.a)({},t),{},{count:1}));var c=$.a.uniqWith(e,$.a.isEqual);localStorage.setItem("cart",JSON.stringify(c)),l("Added"),j({type:"ADD_TO_CART",payload:c}),j({type:"SET_VISIBLE",payload:!0})}},children:[Object(n.jsx)(M.a,{className:"text-danger"})," ",Object(n.jsx)("br",{})," Add to Cart"]})}),Object(n.jsxs)(v.b,{to:"/",children:[Object(n.jsx)(vt.a,{className:"text-info"})," ",Object(n.jsx)("br",{})," Add to Wishlist"]}),Object(n.jsx)(kt,{children:Object(n.jsx)(Q.a,{name:m,numberOfStars:5,rating:r,changeRating:c,isSelectable:!0,starRatedColor:"red"})})],children:Object(n.jsx)(yt,{product:t})})]})]})},_t=function(e){var t=e.match,c=Object(a.useState)({}),r=Object(d.a)(c,2),s=r[0],o=r[1],i=Object(a.useState)([]),l=Object(d.a)(i,2),u=l[0],j=l[1],h=Object(a.useState)(0),O=Object(d.a)(h,2),p=O[0],m=O[1],x=Object(g.c)((function(e){return Object(b.a)({},e)})).user,f=t.params.slug;Object(a.useEffect)((function(){v()}),[f]),Object(a.useEffect)((function(){if(s.ratings&&x){var e=s.ratings.find((function(e){return e.postedBy.toString()===x._id.toString()}));e&&m(e.star)}}));var v=function(){T(f).then((function(e){o(e.data),B(e.data._id).then((function(e){return j(e.data)}))}))};return Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsx)("div",{className:"row pt-4",children:Object(n.jsx)(Et,{product:s,onStarClick:function(e,t){m(e),console.table(e,t),Y(t,e,x.token).then((function(e){console.log("rating clicked",e.data),v()}))},star:p})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col text-center pt-5 pb-5",children:[Object(n.jsx)("hr",{}),Object(n.jsx)("h4",{children:"Related Products"}),Object(n.jsx)("hr",{})]})}),Object(n.jsx)("div",{className:"row pb-5",children:u.length?u.map((function(e){return Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)(Z,{product:e})},e._id)})):Object(n.jsx)("div",{className:"text-center col",children:"No Products Found"})})]})},Rt=function(e){var t=e.match,c=Object(a.useState)({}),r=Object(d.a)(c,2),s=r[0],o=r[1],i=Object(a.useState)([]),l=Object(d.a)(i,2),u=l[0],j=l[1],b=Object(a.useState)(!1),h=Object(d.a)(b,2),O=h[0],p=h[1],m=t.params.slug;return Object(a.useEffect)((function(){p(!0),se(m).then((function(e){console.log(JSON.stringify(e.data,null,4)),o(e.data.category),j(e.data.products),p(!1)}))}),[]),Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col",children:O?Object(n.jsx)("h4",{className:"text-center p-3 mt-5 mb-5 display-4 jumbotron",children:"Loading..."}):Object(n.jsxs)("h4",{className:"text-center p-3 mt-5 mb-5 display-4 jumbotron",children:[u.length,' Products in "',s.name,'" category']})})}),Object(n.jsx)("div",{className:"row",children:u.map((function(e){return Object(n.jsx)("div",{className:"col",children:Object(n.jsx)(Z,{product:e})},e._id)}))})]})},At=function(e){var t=e.match,c=Object(a.useState)({}),r=Object(d.a)(c,2),s=r[0],o=r[1],i=Object(a.useState)([]),l=Object(d.a)(i,2),u=l[0],j=l[1],b=Object(a.useState)(!1),h=Object(d.a)(b,2),O=h[0],p=h[1],m=t.params.slug;return Object(a.useEffect)((function(){p(!0),de(m).then((function(e){console.log(JSON.stringify(e.data,null,4)),o(e.data.sub),j(e.data.products),p(!1)}))}),[]),Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col",children:O?Object(n.jsx)("h4",{className:"text-center p-3 mt-5 mb-5 display-4 jumbotron",children:"Loading..."}):Object(n.jsxs)("h4",{className:"text-center p-3 mt-5 mb-5 display-4 jumbotron",children:[u.length,' Products in "',s.name,'" sub category']})})}),Object(n.jsx)("div",{className:"row",children:u.map((function(e){return Object(n.jsx)("div",{className:"col",children:Object(n.jsx)(Z,{product:e})},e._id)}))})]})},It=c(273),Dt=c(545),Pt=c(543),Tt=c(535),Lt=c(562),Ut=c(563),Ft=function(e){var t=e.starClick,c=e.numberOfStars;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Q.a,{changeRating:function(){return t(c)},numberOfStars:c,starDimension:"20px",starSpacing:"2px",starHoverColor:"red",starEmptyColor:"red"}),Object(n.jsx)("br",{})]})},Yt=fe.a.SubMenu,Bt=(fe.a.ItemGroup,function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),c=t[0],r=t[1],s=Object(a.useState)(!1),o=Object(d.a)(s,2),i=o[0],l=o[1],u=Object(a.useState)([0,0]),j=Object(d.a)(u,2),h=j[0],O=j[1],p=Object(a.useState)(!1),m=Object(d.a)(p,2),x=m[0],f=m[1],v=Object(a.useState)([]),N=Object(d.a)(v,2),y=N[0],S=N[1],w=Object(a.useState)([]),k=Object(d.a)(w,2),C=k[0],E=k[1],_=Object(a.useState)(""),R=Object(d.a)(_,2),A=(R[0],R[1]),I=Object(a.useState)([]),P=Object(d.a)(I,2),T=P[0],L=P[1],U=Object(a.useState)(""),F=Object(d.a)(U,2),Y=(F[0],F[1]),B=Object(a.useState)(["Apple","Samsung","Microsoft","Lenovo","ASUS"]),q=Object(d.a)(B,2),J=q[0],W=(q[1],Object(a.useState)("")),M=Object(d.a)(W,2),H=M[0],V=M[1],Q=Object(a.useState)(["Black","Brown","Silver","White","Blue"]),K=Object(d.a)(Q,2),z=K[0],$=(K[1],Object(a.useState)("")),X=Object(d.a)($,2),ee=X[0],te=X[1],ce=Object(a.useState)(""),ne=Object(d.a)(ce,2),ae=ne[0],se=ne[1],oe=Object(g.b)(),ie=Object(g.c)((function(e){return Object(b.a)({},e)})).search.text;Object(a.useEffect)((function(){ue(),re().then((function(e){return S(e.data)})),be().then((function(e){return L(e.data)}))}),[]);var le=function(e){G(e).then((function(e){r(e.data)}))},ue=function(){D(12).then((function(e){r(e.data),l(!1)}))};Object(a.useEffect)((function(){var e=setTimeout((function(){le({query:ie}),ie||ue()}),300);return function(){return clearTimeout(e)}}),[ie]),Object(a.useEffect)((function(){console.log("ok to request"),le({price:h})}),[x]);var je=function(e){oe({type:"SEARCH_QUERY",payload:{text:""}}),O([0,0]),A(""),Y(""),V(""),te(""),se("");var t=Object(It.a)(C),c=e.target.value,n=t.indexOf(c);-1===n?t.push(c):t.splice(n,1),E(t),le({category:t})},de=function(e){oe({type:"SEARCH_QUERY",payload:{text:""}}),O([0,0]),E([]),A(e),Y(""),V(""),te(""),se(""),le({stars:e})},he=function(e){Y(e),oe({type:"SEARCH_QUERY",payload:{text:""}}),O([0,0]),E([]),A(""),V(""),te(""),se(""),le({sub:e})},Oe=function(e){Y(""),oe({type:"SEARCH_QUERY",payload:{text:""}}),O([0,0]),E([]),A(""),te(""),V(e.target.value),se(""),le({brand:e.target.value})},pe=function(e){Y(""),oe({type:"SEARCH_QUERY",payload:{text:""}}),O([0,0]),E([]),A(""),V(""),te(e.target.value),se(""),le({color:e.target.value})},me=function(e){Y(""),oe({type:"SEARCH_QUERY",payload:{text:""}}),O([0,0]),E([]),A(""),V(""),te(""),se(e.target.value),le({shipping:e.target.value})};return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-md-3 pt-2",children:[Object(n.jsx)("h4",{children:"Search/Filter"}),Object(n.jsx)("hr",{}),Object(n.jsxs)(fe.a,{defaultOpenKeys:["1","2","3","4","5","6","7"],mode:"inline",children:[Object(n.jsx)(Yt,{title:Object(n.jsxs)("span",{className:"h6",children:[Object(n.jsx)(Lt.a,{})," Price"]}),children:Object(n.jsx)("div",{children:Object(n.jsx)(Tt.a,{className:"ml-4 mr-4",tipFormatter:function(e){return"$".concat(e)},range:!0,value:h,onChange:function(e){oe({type:"SEARCH_QUERY",payload:{text:""}}),E([]),O(e),A(""),Y(""),V(""),te(""),se(""),setTimeout((function(){f(!x)}),300)},max:"4999"})})},"1"),Object(n.jsx)(Yt,{title:Object(n.jsxs)("span",{className:"h6",children:[Object(n.jsx)(Ut.a,{})," Categories"]}),children:Object(n.jsx)("div",{style:{maringTop:"-10px"},children:y.map((function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)(Dt.a,{onChange:je,className:"pb-2 pl-4 pr-4",value:e._id,name:"category",checked:C.includes(e._id),children:e.name}),Object(n.jsx)("br",{})]},e._id)}))})},"2"),Object(n.jsx)(Yt,{title:Object(n.jsxs)("span",{className:"h6",children:[Object(n.jsx)(wt.a,{})," Rating"]}),children:Object(n.jsx)("div",{style:{maringTop:"-10px"},children:Object(n.jsxs)("div",{className:"pr-4 pl-4 pb-2",children:[Object(n.jsx)(Ft,{starClick:de,numberOfStars:5}),Object(n.jsx)(Ft,{starClick:de,numberOfStars:4}),Object(n.jsx)(Ft,{starClick:de,numberOfStars:3}),Object(n.jsx)(Ft,{starClick:de,numberOfStars:2}),Object(n.jsx)(Ft,{starClick:de,numberOfStars:1})]})})},"3"),Object(n.jsx)(Yt,{title:Object(n.jsxs)("span",{className:"h6",children:[Object(n.jsx)(Ut.a,{})," Sub Categories"]}),children:Object(n.jsx)("div",{style:{maringTop:"-10px"},className:"pl-4 pr-4",children:T.map((function(e){return Object(n.jsx)("div",{onClick:function(){return he(e)},className:"p-1 m-1 badge badge-secondary",style:{cursor:"pointer"},children:e.name},e._id)}))})},"4"),Object(n.jsx)(Yt,{title:Object(n.jsxs)("span",{className:"h6",children:[Object(n.jsx)(Ut.a,{})," Brands"]}),children:Object(n.jsx)("div",{style:{maringTop:"-10px"},className:"pr-5",children:J.map((function(e){return Object(n.jsx)(Pt.a,{value:e,name:e,checked:e===H,onChange:Oe,className:"pb-1 pl-4 pr-4",children:e})}))})},"5"),Object(n.jsx)(Yt,{title:Object(n.jsxs)("span",{className:"h6",children:[Object(n.jsx)(Ut.a,{})," Colors"]}),children:Object(n.jsx)("div",{style:{maringTop:"-10px"},className:"pr-5",children:z.map((function(e){return Object(n.jsx)(Pt.a,{value:e,name:e,checked:e===ee,onChange:pe,className:"pb-1 pl-4 pr-4",children:e})}))})},"6"),Object(n.jsx)(Yt,{title:Object(n.jsxs)("span",{className:"h6",children:[Object(n.jsx)(Ut.a,{})," Shipping"]}),children:Object(n.jsx)("div",{style:{maringTop:"-10px"},className:"pr-5",children:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Dt.a,{className:"pb-2 pl-4 pr-4",onChange:me,value:"Yes",checked:"Yes"===ae,children:"Yes"}),Object(n.jsx)(Dt.a,{className:"pb-2 pl-4 pr-4",onChange:me,value:"No",checked:"No"===ae,children:"No"})]})})},"7")]})]}),Object(n.jsxs)("div",{className:"col-md-9 pt-2",children:[i?Object(n.jsx)("h4",{className:"text-danger",children:"Loading..."}):Object(n.jsx)("h4",{className:"text-danger",children:"Products"}),c.length<1&&Object(n.jsx)("p",{children:"No products found"}),Object(n.jsx)("div",{className:"row pb-5",children:c.map((function(e){return Object(n.jsx)("div",{className:"col-md-4 mt-3",children:Object(n.jsx)(Z,{product:e})},e._id)}))})]})]})})}),Gt=c(198),qt=c(564),Jt=c(565),Wt=c(566),Mt=function(e){var t=e.p,c=Object(g.b)();return Object(n.jsx)("tbody",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("div",{style:{width:"100px",height:"auto"},children:t.images.length?Object(n.jsx)(Gt.a,{small:t.images[0].url,large:t.images[0].url}):Object(n.jsx)(Gt.a,{small:H,large:H})})}),Object(n.jsx)("td",{children:t.title}),Object(n.jsxs)("td",{children:["$",t.price]}),Object(n.jsx)("td",{children:t.brand}),Object(n.jsx)("td",{children:Object(n.jsxs)("select",{onChange:function(e){console.log("color changed",e.target.value);var n=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(n=JSON.parse(localStorage.getItem("cart"))),n.map((function(c,a){c._id===t._id&&(n[a].color=e.target.value)})),localStorage.setItem("cart",JSON.stringify(n)),c({type:"ADD_TO_CART",payload:n}))},name:"color",className:"form-control",children:[t.color?Object(n.jsx)("option",{value:t.color,children:t.color}):Object(n.jsx)("option",{children:"Select"}),["Black","Brown","Silver","White","Blue"].filter((function(e){return e!==t.color})).map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)}))]})}),Object(n.jsx)("td",{className:"text-center",children:Object(n.jsx)("input",{type:"number",className:"form-control",value:t.count,onChange:function(e){var n=e.target.value<1?1:e.target.value;if(n>t.quantity)j.b.error("Max available quantity: ".concat(t.quantity));else{var a=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(a=JSON.parse(localStorage.getItem("cart"))),a.map((function(e,c){e._id==t._id&&(a[c].count=n)})),localStorage.setItem("cart",JSON.stringify(a)),c({type:"ADD_TO_CART",payload:a}))}}})}),Object(n.jsx)("td",{className:"text-center",children:"Yes"===t.shipping?Object(n.jsx)(qt.a,{className:"text-success"}):Object(n.jsx)(Jt.a,{className:"text-danger"})}),Object(n.jsx)("td",{className:"text-center",children:Object(n.jsx)(Wt.a,{onClick:function(){var e=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(e=JSON.parse(localStorage.getItem("cart"))),e.map((function(c,n){c._id===t._id&&e.splice(n,1)})),localStorage.setItem("cart",JSON.stringify(e)),c({type:"ADD_TO_CART",payload:e}))},className:"text-danger pointer"})})]})})},Ht=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat("http://localhost:8000/api","/user/cart"),{cart:t},{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),Vt=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat("http://localhost:8000/api","/user/cart"),{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qt=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete("".concat("http://localhost:8000/api","/user/cart"),{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Kt=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat("http://localhost:8000/api","/user/address"),{address:c},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),zt=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat("http://localhost:8000/api","/user/cart/coupon"),{coupon:c},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),$t=function(e){var t=e.history,c=Object(g.c)((function(e){return Object(b.a)({},e)})),a=c.cart,r=c.user;Object(g.b)();return Object(n.jsx)("div",{className:"container-fluid pt-2",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-md-8",children:[Object(n.jsxs)("h4",{children:["Cart / ",a.length," Product"]}),a.length?Object(n.jsxs)("table",{className:"table table-bordered",children:[Object(n.jsx)("thead",{className:"thead-light",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Image"}),Object(n.jsx)("th",{scope:"col",children:"Title"}),Object(n.jsx)("th",{scope:"col",children:"Price"}),Object(n.jsx)("th",{scope:"col",children:"Brand"}),Object(n.jsx)("th",{scope:"col",children:"Color"}),Object(n.jsx)("th",{scope:"col",children:"Count"}),Object(n.jsx)("th",{scope:"col",children:"Shipping"}),Object(n.jsx)("th",{scope:"col",children:"Remove"})]})}),a.map((function(e){return Object(n.jsx)(Mt,{p:e},e._id)}))]}):Object(n.jsxs)("p",{children:["No products in cart. ",Object(n.jsx)(v.b,{to:"/shop",children:"Continue Shopping."})]})]}),Object(n.jsxs)("div",{className:"col-md-4",children:[Object(n.jsx)("h4",{children:"Order Summary"}),Object(n.jsx)("hr",{}),Object(n.jsx)("p",{children:"Products"}),a.map((function(e,t){return Object(n.jsx)("div",{children:Object(n.jsxs)("p",{children:[e.title," x ",e.count," = $",e.price*e.count]})},t)})),Object(n.jsx)("hr",{}),"Total: ",Object(n.jsxs)("b",{children:["$",a.reduce((function(e,t){return e+t.count*t.price}),0)]}),Object(n.jsx)("hr",{}),r?Object(n.jsx)("button",{onClick:function(){Ht(a,r.token).then((function(e){console.log("CART POST RES",e),e.data.ok&&t.push("/checkout")})).catch((function(e){return console.log("cart save err",e)}))},className:"btn btn-sm btn-primary mt-2",disabled:!a.length,children:"Proceed to Checkout"}):Object(n.jsx)("button",{className:"btn btn-sm btn-primary mt-2",children:Object(n.jsx)(v.b,{to:{pathname:"/login",state:{from:"cart"}},children:"Login to Checkout"})})]})]})})},Xt=c(266),Zt=c.n(Xt),ec=(c(466),function(e){var t=e.history,c=Object(a.useState)([]),r=Object(d.a)(c,2),s=r[0],o=r[1],i=Object(a.useState)(0),l=Object(d.a)(i,2),u=l[0],h=l[1],O=Object(a.useState)(""),p=Object(d.a)(O,2),m=p[0],x=p[1],f=Object(a.useState)(!1),v=Object(d.a)(f,2),N=v[0],y=v[1],S=Object(a.useState)(""),w=Object(d.a)(S,2),k=w[0],C=w[1],E=Object(a.useState)(0),_=Object(d.a)(E,2),R=_[0],A=_[1],I=Object(a.useState)(""),D=Object(d.a)(I,2),P=D[0],T=D[1],L=Object(g.b)(),U=Object(g.c)((function(e){return Object(b.a)({},e)})).user;Object(a.useEffect)((function(){Vt(U.token).then((function(e){console.log("user cart res",JSON.stringify(e.data,null,4)),o(e.data.products),h(e.data.cartTotal)}))}),[]);var F=function(){Kt(U.token,m).then((function(e){e.data.ok&&(y(!0),j.b.success("Address saved"))}))},Y=function(){console.log("send coupon to backend",k),zt(U.token,k).then((function(e){console.log("RES ON COUPON APPLIED",e.data),e.data&&(A(e.data),L({type:"COUPON_APPLIED",payload:!0})),e.data.err&&(T(e.data.err),L({type:"COUPON_APPLIED",payload:!1}))}))};return Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-md-6",children:[Object(n.jsx)("h4",{children:"Delivery Address"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Zt.a,{theme:"snow",value:m,onChange:x}),Object(n.jsx)("button",{className:"btn btn-primary mt-2",onClick:F,children:"Save"})]}),Object(n.jsx)("hr",{}),Object(n.jsx)("h4",{children:"Got Coupon?"}),Object(n.jsx)("br",{}),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("input",{onChange:function(e){C(e.target.value),T("")},value:k,type:"text",className:"form-control"}),Object(n.jsx)("button",{onClick:Y,className:"btn btn-primary mt-2",children:"Apply"})]}),Object(n.jsx)("br",{}),P&&Object(n.jsx)("p",{className:"bg-danger p-2",children:P})]}),Object(n.jsxs)("div",{className:"col-md-6",children:[Object(n.jsx)("h4",{children:"Order Summary"}),Object(n.jsx)("hr",{}),Object(n.jsxs)("p",{children:["Products ",s.length]}),Object(n.jsx)("hr",{}),s.map((function(e,t){return Object(n.jsx)("div",{children:Object(n.jsxs)("p",{children:[e.product.title," (",e.color,") x ",e.count," ="," ",e.product.price*e.count]})},t)})),Object(n.jsx)("hr",{}),Object(n.jsxs)("p",{children:["Cart Total: ",u]}),R>0&&Object(n.jsxs)("p",{className:"bg-success p-2",children:["Discount Applied: Total Payable: $",R]}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-6",children:Object(n.jsx)("button",{className:"btn btn-primary",disabled:!N||!s.length,onClick:function(){return t.push("/payment")},children:"Place Order"})}),Object(n.jsx)("div",{className:"col-md-6",children:Object(n.jsx)("button",{disabled:!s.length,onClick:function(){"undefined"!==typeof window&&localStorage.removeItem("cart"),L({type:"ADD_TO_CART",payload:[]}),Qt(U.token).then((function(e){o([]),h(0),A(0),C(""),j.b.success("Cart is emapty. Contniue shopping.")}))},className:"btn btn-primary",children:"Empty Cart"})})]})]})]})}),tc=c(267),cc=c.n(tc),nc=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("".concat("http://localhost:8000/api","/coupons"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ac=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete("".concat("http://localhost:8000/api","/coupon/").concat(t),{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),rc=function(){var e=Object(l.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post("".concat("http://localhost:8000/api","/coupon"),{coupon:t},{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),sc=(c(467),function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),c=t[0],r=t[1],s=Object(a.useState)(""),o=Object(d.a)(s,2),i=o[0],l=o[1],u=Object(a.useState)(""),h=Object(d.a)(u,2),O=h[0],p=h[1],m=Object(a.useState)(""),x=Object(d.a)(m,2),f=x[0],v=x[1],N=Object(a.useState)([]),y=Object(d.a)(N,2),S=y[0],w=y[1],k=Object(g.c)((function(e){return Object(b.a)({},e)})).user;Object(a.useEffect)((function(){C()}),[]);var C=function(){return nc().then((function(e){return w(e.data)}))};return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-2",children:Object(n.jsx)(We,{})}),Object(n.jsxs)("div",{className:"col-md-10",children:[f?Object(n.jsx)("h4",{className:"text-danger",children:"Loading..."}):Object(n.jsx)("h4",{children:"Coupon"}),Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),v(!0),rc({name:c,expiry:i,discount:O},k.token).then((function(e){v(!1),C(),r(""),p(""),l(""),j.b.success('"'.concat(e.data.name,'" is created'))})).catch((function(e){return console.log("create coupon err",e)}))},children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Name"}),Object(n.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return r(e.target.value)},value:c,autoFocus:!0,required:!0})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Discount %"}),Object(n.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return p(e.target.value)},value:O,required:!0})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Expiry"}),Object(n.jsx)("br",{}),Object(n.jsx)(cc.a,{className:"form-control",selected:new Date,value:i,onChange:function(e){return l(e)},required:!0})]}),Object(n.jsx)("button",{className:"btn btn-outline-primary",children:"Save"})]}),Object(n.jsx)("br",{}),Object(n.jsxs)("h4",{children:[S.length," Coupons"]}),Object(n.jsxs)("table",{className:"table table-bordered",children:[Object(n.jsx)("thead",{className:"thead-light",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Name"}),Object(n.jsx)("th",{scope:"col",children:"Expiry"}),Object(n.jsx)("th",{scope:"col",children:"Discount"}),Object(n.jsx)("th",{scope:"col",children:"Action"})]})}),Object(n.jsx)("tbody",{children:S.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.name}),Object(n.jsx)("td",{children:new Date(e.expiry).toLocaleDateString()}),Object(n.jsxs)("td",{children:[e.discount,"%"]}),Object(n.jsx)("td",{children:Object(n.jsx)(Qe.a,{onClick:function(){return t=e._id,void(window.confirm("Delete?")&&(v(!0),ac(t,k.token).then((function(e){C(),v(!1),j.b.error('Coupon "'.concat(e.data.name,'" deleted'))})).catch((function(e){return console.log(e)}))));var t},className:"text-danger pointer"})})]},e._id)}))})]})]})]})})}),oc=function(){return Object(n.jsx)("div",{className:"container p-5 text-center",children:Object(n.jsx)("p",{children:"Complete your purchase"})})},ic=function(){var e=Object(g.b)();return Object(a.useEffect)((function(){var t=O.onAuthStateChanged(function(){var t=Object(l.a)(i.a.mark((function t(c){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!c){t.next=5;break}return t.next=3,c.getIdTokenResult();case 3:n=t.sent,w(n.token).then((function(t){e({type:"LOGGED_IN_USER",payload:{name:t.data.name,email:t.data.email,token:n.token,role:t.data.role,_id:t.data._id}})})).catch((function(e){return console.log(e)}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return function(){return t()}}),[e]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Ae,{}),Object(n.jsx)(De,{}),Object(n.jsx)(j.a,{}),Object(n.jsxs)(u.c,{children:[Object(n.jsx)(u.a,{exact:!0,path:"/",component:xe}),Object(n.jsx)(u.a,{exact:!0,path:"/login",component:C}),Object(n.jsx)(u.a,{exact:!0,path:"/register",component:E}),Object(n.jsx)(u.a,{exact:!0,path:"/register/complete",component:Pe}),Object(n.jsx)(u.a,{exact:!0,path:"/forgot/password",component:Te}),Object(n.jsx)(Be,{exact:!0,path:"/user/history",component:Ue}),Object(n.jsx)(Be,{exact:!0,path:"/user/password",component:qe}),Object(n.jsx)(Be,{exact:!0,path:"/user/wishlist",component:Je}),Object(n.jsx)(Ge,{exact:!0,path:"/admin/dashboard",component:Me}),Object(n.jsx)(Ge,{exact:!0,path:"/seller/dashboard",component:Ve}),Object(n.jsx)(Ge,{exact:!0,path:"/admin/category",component:Xe}),Object(n.jsx)(Ge,{exact:!0,path:"/admin/category/:slug",component:Ze}),Object(n.jsx)(Ge,{exact:!0,path:"/admin/sub",component:et}),Object(n.jsx)(Ge,{exact:!0,path:"/admin/sub/:slug",component:tt}),Object(n.jsx)(Ge,{exact:!0,path:"/admin/product",component:bt}),Object(n.jsx)(Ge,{exact:!0,path:"/admin/products",component:Ot}),Object(n.jsx)(Ge,{exact:!0,path:"/admin/product/:slug",component:ft}),Object(n.jsx)(u.a,{exact:!0,path:"/product/:slug",component:_t}),Object(n.jsx)(u.a,{exact:!0,path:"/category/:slug",component:Rt}),Object(n.jsx)(u.a,{exact:!0,path:"/sub/:slug",component:At}),Object(n.jsx)(u.a,{exact:!0,path:"/shop",component:Bt}),Object(n.jsx)(u.a,{exact:!0,path:"/cart",component:$t}),Object(n.jsx)(Be,{exact:!0,path:"/checkout",component:ec}),Object(n.jsx)(Ge,{exact:!0,path:"/admin/coupon",component:sc}),Object(n.jsx)(Be,{exact:!0,path:"/payment",component:oc})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c(526);var lc=c(95),uc=c(269),jc=[];"undefined"!==typeof window&&(jc=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[]);var bc=Object(lc.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGGED_IN_USER":case"LOGOUT":return t.payload;default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_QUERY":return Object(b.a)(Object(b.a)({},e),t.payload);default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":return t.payload;default:return e}},drawer:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VISIBLE":return t.payload;default:return e}},coupon:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COUPON_APPLIED":return t.payload;default:return e}}}),dc=Object(lc.createStore)(bc,Object(uc.composeWithDevTools)());s.a.render(Object(n.jsx)(g.a,{store:dc,children:Object(n.jsx)(v.a,{children:Object(n.jsx)(ic,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[527,1,2]]]);
//# sourceMappingURL=main.2aaf7387.chunk.js.map