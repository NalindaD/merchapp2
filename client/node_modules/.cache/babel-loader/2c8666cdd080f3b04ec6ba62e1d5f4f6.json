{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"F:/mern/udemy/ecommerce/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"F:/mern/udemy/ecommerce/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useState}from\"react\";import{Modal,Button}from\"antd\";import{toast}from\"react-toastify\";import{useSelector}from\"react-redux\";import{StarOutlined}from\"@ant-design/icons\";import{useHistory,useParams}from\"react-router-dom\";var RatingModal=function RatingModal(_ref){var children=_ref.children;var _useSelector=useSelector(function(state){return _objectSpread({},state);}),user=_useSelector.user;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modalVisible=_useState2[0],setModalVisible=_useState2[1];var history=useHistory();var _useParams=useParams(),slug=_useParams.slug;var handleModal=function handleModal(){if(user&&user.token){setModalVisible(true);}else{history.push({pathname:\"/login\",state:{from:\"/product/\".concat(slug)}});}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{onClick:handleModal,children:[/*#__PURE__*/_jsx(StarOutlined,{className:\"text-danger\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",user?\"Leave rating\":\"Login to leave rating\"]}),/*#__PURE__*/_jsx(Modal,{title:\"Leave your rating\",centered:true,visible:modalVisible,onOk:function onOk(){setModalVisible(false);toast.success(\"Thanks for your review. It will apper soon\");},onCancel:function onCancel(){return setModalVisible(false);},children:children})]});};export default RatingModal;","map":{"version":3,"sources":["F:/mern/udemy/ecommerce/client/src/components/modal/RatingModal.js"],"names":["React","useState","Modal","Button","toast","useSelector","StarOutlined","useHistory","useParams","RatingModal","children","state","user","modalVisible","setModalVisible","history","slug","handleModal","token","push","pathname","from","success"],"mappings":"sbAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,KAAT,CAAgBC,MAAhB,KAA8B,MAA9B,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,YAAT,KAA6B,mBAA7B,CACA,OAASC,UAAT,CAAqBC,SAArB,KAAsC,kBAAtC,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAAkB,IAAfC,CAAAA,QAAe,MAAfA,QAAe,kBACnBL,WAAW,CAAC,SAACM,KAAD,0BAAiBA,KAAjB,GAAD,CADQ,CAC5BC,IAD4B,cAC5BA,IAD4B,eAEIX,QAAQ,CAAC,KAAD,CAFZ,wCAE7BY,YAF6B,eAEfC,eAFe,eAIpC,GAAIC,CAAAA,OAAO,CAAGR,UAAU,EAAxB,CAJoC,eAKrBC,SAAS,EALY,CAK9BQ,IAL8B,YAK9BA,IAL8B,CAOpC,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAIL,IAAI,EAAIA,IAAI,CAACM,KAAjB,CAAwB,CACtBJ,eAAe,CAAC,IAAD,CAAf,CACD,CAFD,IAEO,CACLC,OAAO,CAACI,IAAR,CAAa,CACXC,QAAQ,CAAE,QADC,CAEXT,KAAK,CAAE,CAAEU,IAAI,oBAAcL,IAAd,CAAN,CAFI,CAAb,EAID,CACF,CATD,CAWA,mBACE,wCACE,aAAK,OAAO,CAAEC,WAAd,wBACE,KAAC,YAAD,EAAc,SAAS,CAAC,aAAxB,EADF,kBAC2C,aAD3C,CACkD,GADlD,CAEGL,IAAI,CAAG,cAAH,CAAoB,uBAF3B,GADF,cAKE,KAAC,KAAD,EACE,KAAK,CAAC,mBADR,CAEE,QAAQ,KAFV,CAGE,OAAO,CAAEC,YAHX,CAIE,IAAI,CAAE,eAAM,CACVC,eAAe,CAAC,KAAD,CAAf,CACAV,KAAK,CAACkB,OAAN,CAAc,4CAAd,EACD,CAPH,CAQE,QAAQ,CAAE,0BAAMR,CAAAA,eAAe,CAAC,KAAD,CAArB,EARZ,UAUGJ,QAVH,EALF,GADF,CAoBD,CAtCD,CAwCA,cAAeD,CAAAA,WAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { Modal, Button } from \"antd\";\nimport { toast } from \"react-toastify\";\nimport { useSelector } from \"react-redux\";\nimport { StarOutlined } from \"@ant-design/icons\";\nimport { useHistory, useParams } from \"react-router-dom\";\n\nconst RatingModal = ({ children }) => {\n  const { user } = useSelector((state) => ({ ...state }));\n  const [modalVisible, setModalVisible] = useState(false);\n\n  let history = useHistory();\n  let { slug } = useParams();\n\n  const handleModal = () => {\n    if (user && user.token) {\n      setModalVisible(true);\n    } else {\n      history.push({\n        pathname: \"/login\",\n        state: { from: `/product/${slug}` },\n      });\n    }\n  };\n\n  return (\n    <>\n      <div onClick={handleModal}>\n        <StarOutlined className=\"text-danger\" /> <br />{\" \"}\n        {user ? \"Leave rating\" : \"Login to leave rating\"}\n      </div>\n      <Modal\n        title=\"Leave your rating\"\n        centered\n        visible={modalVisible}\n        onOk={() => {\n          setModalVisible(false);\n          toast.success(\"Thanks for your review. It will apper soon\");\n        }}\n        onCancel={() => setModalVisible(false)}\n      >\n        {children}\n      </Modal>\n    </>\n  );\n};\n\nexport default RatingModal;\n"]},"metadata":{},"sourceType":"module"}