{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"F:/mern/udemy/ecommerce/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{getProducts,getProductsCount}from\"../../functions/product\";import ProductCard from\"../cards/ProductCard\";import LoadingCard from\"../cards/LoadingCard\";import{Pagination}from\"antd\";var NewArrivals=function NewArrivals(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),productsCount=_useState6[0],setProductsCount=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),page=_useState8[0],setPage=_useState8[1];useEffect(function(){loadAllProducts();},[page]);useEffect(function(){getProductsCount().then(function(res){return setProductsCount(res.data);});},[]);var loadAllProducts=function loadAllProducts(){setLoading(true);// sort, order, limit\ngetProducts(\"createdAt\",\"desc\",page).then(function(res){setProducts(res.data);setLoading(false);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:loading?/*#__PURE__*/_jsx(LoadingCard,{count:3}):/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:products.map(function(product){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(ProductCard,{product:product})},product._id);})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"col-md-4 offset-md-4 text-center pt-5 p-3\",children:/*#__PURE__*/_jsx(Pagination,{current:page,total:productsCount/3*10,onChange:function onChange(value){return setPage(value);}})})})]});};export default NewArrivals;","map":{"version":3,"sources":["F:/mern/udemy/ecommerce/client/src/components/home/NewArrivals.js"],"names":["React","useEffect","useState","getProducts","getProductsCount","ProductCard","LoadingCard","Pagination","NewArrivals","products","setProducts","loading","setLoading","productsCount","setProductsCount","page","setPage","loadAllProducts","then","res","data","map","product","_id","value"],"mappings":"kSAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,gBAAtB,KAA8C,yBAA9C,CACA,MAAOC,CAAAA,WAAP,KAAwB,sBAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,sBAAxB,CACA,OAASC,UAAT,KAA2B,MAA3B,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,eACQN,QAAQ,CAAC,EAAD,CADhB,wCACjBO,QADiB,eACPC,WADO,8BAEMR,QAAQ,CAAC,KAAD,CAFd,yCAEjBS,OAFiB,eAERC,UAFQ,8BAGkBV,QAAQ,CAAC,CAAD,CAH1B,yCAGjBW,aAHiB,eAGFC,gBAHE,8BAIAZ,QAAQ,CAAC,CAAD,CAJR,yCAIjBa,IAJiB,eAIXC,OAJW,eAMxBf,SAAS,CAAC,UAAM,CACdgB,eAAe,GAChB,CAFQ,CAEN,CAACF,IAAD,CAFM,CAAT,CAIAd,SAAS,CAAC,UAAM,CACdG,gBAAgB,GAAGc,IAAnB,CAAwB,SAACC,GAAD,QAASL,CAAAA,gBAAgB,CAACK,GAAG,CAACC,IAAL,CAAzB,EAAxB,EACD,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMH,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5BL,UAAU,CAAC,IAAD,CAAV,CACA;AACAT,WAAW,CAAC,WAAD,CAAc,MAAd,CAAsBY,IAAtB,CAAX,CAAuCG,IAAvC,CAA4C,SAACC,GAAD,CAAS,CACnDT,WAAW,CAACS,GAAG,CAACC,IAAL,CAAX,CACAR,UAAU,CAAC,KAAD,CAAV,CACD,CAHD,EAID,CAPD,CASA,mBACE,wCACE,YAAK,SAAS,CAAC,WAAf,UACGD,OAAO,cACN,KAAC,WAAD,EAAa,KAAK,CAAE,CAApB,EADM,cAGN,YAAK,SAAS,CAAC,KAAf,UACGF,QAAQ,CAACY,GAAT,CAAa,SAACC,OAAD,qBACZ,YAAuB,SAAS,CAAC,UAAjC,uBACE,KAAC,WAAD,EAAa,OAAO,CAAEA,OAAtB,EADF,EAAUA,OAAO,CAACC,GAAlB,CADY,EAAb,CADH,EAJJ,EADF,cAeE,YAAK,SAAS,CAAC,KAAf,uBACE,YAAK,SAAS,CAAC,2CAAf,uBACE,KAAC,UAAD,EACE,OAAO,CAAER,IADX,CAEE,KAAK,CAAGF,aAAa,CAAG,CAAjB,CAAsB,EAF/B,CAGE,QAAQ,CAAE,kBAACW,KAAD,QAAWR,CAAAA,OAAO,CAACQ,KAAD,CAAlB,EAHZ,EADF,EADF,EAfF,GADF,CA2BD,CAlDD,CAoDA,cAAehB,CAAAA,WAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { getProducts, getProductsCount } from \"../../functions/product\";\nimport ProductCard from \"../cards/ProductCard\";\nimport LoadingCard from \"../cards/LoadingCard\";\nimport { Pagination } from \"antd\";\n\nconst NewArrivals = () => {\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [productsCount, setProductsCount] = useState(0);\n  const [page, setPage] = useState(1);\n\n  useEffect(() => {\n    loadAllProducts();\n  }, [page]);\n\n  useEffect(() => {\n    getProductsCount().then((res) => setProductsCount(res.data));\n  }, []);\n\n  const loadAllProducts = () => {\n    setLoading(true);\n    // sort, order, limit\n    getProducts(\"createdAt\", \"desc\", page).then((res) => {\n      setProducts(res.data);\n      setLoading(false);\n    });\n  };\n\n  return (\n    <>\n      <div className=\"container\">\n        {loading ? (\n          <LoadingCard count={3} />\n        ) : (\n          <div className=\"row\">\n            {products.map((product) => (\n              <div key={product._id} className=\"col-md-4\">\n                <ProductCard product={product} />\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      <div className=\"row\">\n        <nav className=\"col-md-4 offset-md-4 text-center pt-5 p-3\">\n          <Pagination\n            current={page}\n            total={(productsCount / 3) * 10}\n            onChange={(value) => setPage(value)}\n          />\n        </nav>\n      </div>\n    </>\n  );\n};\n\nexport default NewArrivals;\n"]},"metadata":{},"sourceType":"module"}