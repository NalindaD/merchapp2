{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _objectSpread from\"F:/mern/udemy/ecommerce/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"F:/mern/udemy/ecommerce/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Menu,Badge}from\"antd\";import{AppstoreOutlined,SettingOutlined,UserOutlined,UserAddOutlined,LogoutOutlined,ShoppingOutlined,ShoppingCartOutlined}from\"@ant-design/icons\";import{Link}from\"react-router-dom\";import firebase from\"firebase\";import{useDispatch,useSelector}from\"react-redux\";import{useHistory}from\"react-router-dom\";import Search from\"../forms/Search\";var SubMenu=Menu.SubMenu,Item=Menu.Item;var Header=function Header(){var _useState=useState(\"home\"),_useState2=_slicedToArray(_useState,2),current=_useState2[0],setCurrent=_useState2[1];var dispatch=useDispatch();var _useSelector=useSelector(function(state){return _objectSpread({},state);}),user=_useSelector.user,cart=_useSelector.cart;var history=useHistory();var handleClick=function handleClick(e){// console.log(e.key);\nsetCurrent(e.key);};var logout=function logout(){firebase.auth().signOut();dispatch({type:\"LOGOUT\",payload:null});history.push(\"/login\");};return/*#__PURE__*/_jsxs(Menu,{onClick:handleClick,selectedKeys:[current],mode:\"horizontal\",children:[/*#__PURE__*/_jsx(Item,{icon:/*#__PURE__*/_jsx(AppstoreOutlined,{}),children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"})},\"home\"),/*#__PURE__*/_jsx(Item,{icon:/*#__PURE__*/_jsx(ShoppingOutlined,{}),children:/*#__PURE__*/_jsx(Link,{to:\"/shop\",children:\"Shop\"})},\"shop\"),/*#__PURE__*/_jsx(Item,{icon:/*#__PURE__*/_jsx(ShoppingCartOutlined,{}),children:/*#__PURE__*/_jsx(Link,{to:\"/cart\",children:/*#__PURE__*/_jsx(Badge,{count:cart.length,offset:[9,0],children:\"Cart\"})})},\"cart\"),!user&&/*#__PURE__*/_jsx(Item,{icon:/*#__PURE__*/_jsx(UserAddOutlined,{}),className:\"float-right\",children:/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register\"})},\"register\"),!user&&/*#__PURE__*/_jsx(Item,{icon:/*#__PURE__*/_jsx(UserOutlined,{}),className:\"float-right\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})},\"login\"),user&&/*#__PURE__*/_jsxs(SubMenu,{icon:/*#__PURE__*/_jsx(SettingOutlined,{}),title:user.email&&user.email.split(\"@\")[0],className:\"float-right\",children:[user&&user.role===\"subscriber\"&&/*#__PURE__*/_jsx(Item,{children:/*#__PURE__*/_jsx(Link,{to:\"/user/history\",children:\"Dashboard\"})}),user&&user.role===\"admin\"&&/*#__PURE__*/_jsx(Item,{children:/*#__PURE__*/_jsx(Link,{to:\"/admin/dashboard\",children:\"Dashboard\"})}),user&&user.role===\"seller\"&&/*#__PURE__*/_jsx(Item,{children:/*#__PURE__*/_jsx(Link,{to:\"/seller/dashboard\",children:\"Dashboard\"})}),/*#__PURE__*/_jsx(Item,{icon:/*#__PURE__*/_jsx(LogoutOutlined,{}),onClick:logout,children:\"Logout\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"float-right p-1\",children:/*#__PURE__*/_jsx(Search,{})})]});};export default Header;","map":{"version":3,"sources":["F:/mern/udemy/ecommerce/client/src/components/nav/Header.js"],"names":["React","useState","Menu","Badge","AppstoreOutlined","SettingOutlined","UserOutlined","UserAddOutlined","LogoutOutlined","ShoppingOutlined","ShoppingCartOutlined","Link","firebase","useDispatch","useSelector","useHistory","Search","SubMenu","Item","Header","current","setCurrent","dispatch","state","user","cart","history","handleClick","e","key","logout","auth","signOut","type","payload","push","length","email","split","role"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Menu, Badge } from \"antd\";\nimport {\n  AppstoreOutlined,\n  SettingOutlined,\n  UserOutlined,\n  UserAddOutlined,\n  LogoutOutlined,\n  ShoppingOutlined,\n  ShoppingCartOutlined,\n} from \"@ant-design/icons\";\nimport { Link } from \"react-router-dom\";\nimport firebase from \"firebase\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport Search from \"../forms/Search\";\n\nconst { SubMenu, Item } = Menu;\n\nconst Header = () => {\n  const [current, setCurrent] = useState(\"home\");\n\n  let dispatch = useDispatch();\n  let { user, cart } = useSelector((state) => ({ ...state }));\n\n  let history = useHistory();\n\n  const handleClick = (e) => {\n    // console.log(e.key);\n    setCurrent(e.key);\n  };\n\n  const logout = () => {\n    firebase.auth().signOut();\n    dispatch({\n      type: \"LOGOUT\",\n      payload: null,\n    });\n    history.push(\"/login\");\n  };\n\n  return (\n    <Menu onClick={handleClick} selectedKeys={[current]} mode=\"horizontal\">\n      <Item key=\"home\" icon={<AppstoreOutlined />}>\n        <Link to=\"/\">Home</Link>\n      </Item>\n\n      <Item key=\"shop\" icon={<ShoppingOutlined />}>\n        <Link to=\"/shop\">Shop</Link>\n      </Item>\n\n      <Item key=\"cart\" icon={<ShoppingCartOutlined />}>\n        <Link to=\"/cart\">\n          <Badge count={cart.length} offset={[9, 0]}>\n            Cart\n          </Badge>\n        </Link>\n      </Item>\n\n      {!user && (\n        <Item key=\"register\" icon={<UserAddOutlined />} className=\"float-right\">\n          <Link to=\"/register\">Register</Link>\n        </Item>\n      )}\n\n      {!user && (\n        <Item key=\"login\" icon={<UserOutlined />} className=\"float-right\">\n          <Link to=\"/login\">Login</Link>\n        </Item>\n      )}\n\n      {user && (\n        <SubMenu\n          icon={<SettingOutlined />}\n          title={user.email && user.email.split(\"@\")[0]}\n          className=\"float-right\"\n        >\n          {user && user.role === \"subscriber\" && (\n            <Item>\n              <Link to=\"/user/history\">Dashboard</Link>\n            </Item>\n          )}\n\n{user && user.role === \"admin\" && (\n            <Item>\n              <Link to=\"/admin/dashboard\">Dashboard</Link>\n            </Item>\n          )}\n\n{user && user.role === \"seller\" && (\n            <Item>\n              <Link to=\"/seller/dashboard\">Dashboard</Link>\n            </Item>\n          )}\n\n          <Item icon={<LogoutOutlined />} onClick={logout}>\n            Logout\n          </Item>\n        </SubMenu>\n      )}\n\n      <span className=\"float-right p-1\">\n        <Search />\n      </span>\n    </Menu>\n  );\n};\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}