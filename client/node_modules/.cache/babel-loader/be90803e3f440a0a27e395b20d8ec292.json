{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React from\"react\";import ModalImage from\"react-modal-image\";import laptop from\"../../images/laptop.png\";import{useDispatch}from\"react-redux\";import{toast}from\"react-toastify\";import{CheckCircleOutlined,CloseCircleOutlined,CloseOutlined}from\"@ant-design/icons\";var ProductCardInCheckout=function ProductCardInCheckout(_ref){var p=_ref.p;var colors=[\"Black\",\"Brown\",\"Silver\",\"White\",\"Blue\"];var dispatch=useDispatch();var handleColorChange=function handleColorChange(e){console.log(\"color changed\",e.target.value);var cart=[];if(typeof window!==\"undefined\"){if(localStorage.getItem(\"cart\")){cart=JSON.parse(localStorage.getItem(\"cart\"));}cart.map(function(product,i){if(product._id===p._id){cart[i].color=e.target.value;}});//  console.log('cart udpate color', cart)\nlocalStorage.setItem(\"cart\",JSON.stringify(cart));dispatch({type:\"ADD_TO_CART\",payload:cart});}};var handleQuantityChange=function handleQuantityChange(e){// console.log(\"available quantity\", p.quantity);\nvar count=e.target.value<1?1:e.target.value;if(count>p.quantity){toast.error(\"Max available quantity: \".concat(p.quantity));return;}var cart=[];if(typeof window!==\"undefined\"){if(localStorage.getItem(\"cart\")){cart=JSON.parse(localStorage.getItem(\"cart\"));}cart.map(function(product,i){if(product._id==p._id){cart[i].count=count;}});localStorage.setItem(\"cart\",JSON.stringify(cart));dispatch({type:\"ADD_TO_CART\",payload:cart});}};var handleRemove=function handleRemove(){// console.log(p._id, \"to remove\");\nvar cart=[];if(typeof window!==\"undefined\"){if(localStorage.getItem(\"cart\")){cart=JSON.parse(localStorage.getItem(\"cart\"));}// [1,2,3,4,5]\ncart.map(function(product,i){if(product._id===p._id){cart.splice(i,1);}});localStorage.setItem(\"cart\",JSON.stringify(cart));dispatch({type:\"ADD_TO_CART\",payload:cart});}};return/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{style:{width:\"100px\",height:\"auto\"},children:p.images.length?/*#__PURE__*/_jsx(ModalImage,{small:p.images[0].url,large:p.images[0].url}):/*#__PURE__*/_jsx(ModalImage,{small:laptop,large:laptop})})}),/*#__PURE__*/_jsx(\"td\",{children:p.title}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",p.price]}),/*#__PURE__*/_jsx(\"td\",{children:p.brand}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"select\",{onChange:handleColorChange,name:\"color\",className:\"form-control\",children:[p.color?/*#__PURE__*/_jsx(\"option\",{value:p.color,children:p.color}):/*#__PURE__*/_jsx(\"option\",{children:\"Select\"}),colors.filter(function(c){return c!==p.color;}).map(function(c){return/*#__PURE__*/_jsx(\"option\",{value:c,children:c},c);})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",value:p.count,onChange:handleQuantityChange})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:p.shipping===\"Yes\"?/*#__PURE__*/_jsx(CheckCircleOutlined,{className:\"text-success\"}):/*#__PURE__*/_jsx(CloseCircleOutlined,{className:\"text-danger\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsx(CloseOutlined,{onClick:handleRemove,className:\"text-danger pointer\"})})]})});};export default ProductCardInCheckout;","map":{"version":3,"sources":["F:/mern/udemy/ecommerce/client/src/components/cards/ProductCardInCheckout.js"],"names":["React","ModalImage","laptop","useDispatch","toast","CheckCircleOutlined","CloseCircleOutlined","CloseOutlined","ProductCardInCheckout","p","colors","dispatch","handleColorChange","e","console","log","target","value","cart","window","localStorage","getItem","JSON","parse","map","product","i","_id","color","setItem","stringify","type","payload","handleQuantityChange","count","quantity","error","handleRemove","splice","width","height","images","length","url","title","price","brand","filter","c","shipping"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport ModalImage from \"react-modal-image\";\nimport laptop from \"../../images/laptop.png\";\nimport { useDispatch } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport {\n  CheckCircleOutlined,\n  CloseCircleOutlined,\n  CloseOutlined,\n} from \"@ant-design/icons\";\n\nconst ProductCardInCheckout = ({ p }) => {\n  const colors = [\"Black\", \"Brown\", \"Silver\", \"White\", \"Blue\"];\n  let dispatch = useDispatch();\n\n  const handleColorChange = (e) => {\n    console.log(\"color changed\", e.target.value);\n\n    let cart = [];\n    if (typeof window !== \"undefined\") {\n      if (localStorage.getItem(\"cart\")) {\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\n      }\n\n      cart.map((product, i) => {\n        if (product._id === p._id) {\n          cart[i].color = e.target.value;\n        }\n      });\n\n      //  console.log('cart udpate color', cart)\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\n      dispatch({\n        type: \"ADD_TO_CART\",\n        payload: cart,\n      });\n    }\n  };\n\n  const handleQuantityChange = (e) => {\n    // console.log(\"available quantity\", p.quantity);\n    let count = e.target.value < 1 ? 1 : e.target.value;\n\n    if (count > p.quantity) {\n      toast.error(`Max available quantity: ${p.quantity}`);\n      return;\n    }\n\n    let cart = [];\n\n    if (typeof window !== \"undefined\") {\n      if (localStorage.getItem(\"cart\")) {\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\n      }\n\n      cart.map((product, i) => {\n        if (product._id == p._id) {\n          cart[i].count = count;\n        }\n      });\n\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\n      dispatch({\n        type: \"ADD_TO_CART\",\n        payload: cart,\n      });\n    }\n  };\n\n  const handleRemove = () => {\n    // console.log(p._id, \"to remove\");\n    let cart = [];\n\n    if (typeof window !== \"undefined\") {\n      if (localStorage.getItem(\"cart\")) {\n        cart = JSON.parse(localStorage.getItem(\"cart\"));\n      }\n      // [1,2,3,4,5]\n      cart.map((product, i) => {\n        if (product._id === p._id) {\n          cart.splice(i, 1);\n        }\n      });\n\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\n      dispatch({\n        type: \"ADD_TO_CART\",\n        payload: cart,\n      });\n    }\n  };\n\n  return (\n    <tbody>\n      <tr>\n        <td>\n          <div style={{ width: \"100px\", height: \"auto\" }}>\n            {p.images.length ? (\n              <ModalImage small={p.images[0].url} large={p.images[0].url} />\n            ) : (\n              <ModalImage small={laptop} large={laptop} />\n            )}\n          </div>\n        </td>\n        <td>{p.title}</td>\n        <td>${p.price}</td>\n        <td>{p.brand}</td>\n        <td>\n          <select\n            onChange={handleColorChange}\n            name=\"color\"\n            className=\"form-control\"\n          >\n            {p.color ? (\n              <option value={p.color}>{p.color}</option>\n            ) : (\n              <option>Select</option>\n            )}\n            {colors\n              .filter((c) => c !== p.color)\n              .map((c) => (\n                <option key={c} value={c}>\n                  {c}\n                </option>\n              ))}\n          </select>\n        </td>\n        <td className=\"text-center\">\n          <input\n            type=\"number\"\n            className=\"form-control\"\n            value={p.count}\n            onChange={handleQuantityChange}\n          />\n        </td>\n        <td className=\"text-center\">\n          {p.shipping === \"Yes\" ? (\n            <CheckCircleOutlined className=\"text-success\" />\n          ) : (\n            <CloseCircleOutlined className=\"text-danger\" />\n          )}\n        </td>\n        <td className=\"text-center\">\n          <CloseOutlined\n            onClick={handleRemove}\n            className=\"text-danger pointer\"\n          />\n        </td>\n      </tr>\n    </tbody>\n  );\n};\n\nexport default ProductCardInCheckout;\n"]},"metadata":{},"sourceType":"module"}